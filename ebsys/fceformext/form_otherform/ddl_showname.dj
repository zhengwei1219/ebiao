<script></script> 
<DIV oncontrolselect=controlselect() id=SKbillsheet contentEditable=true jslib="fcopendj.js&#13;&#10;fcsavedj.js&#13;&#10;fcselfuse.js&#13;&#10;fcbasecont.js&#13;&#10;fcother.js&#13;&#10;selectdate.js&#13;&#10;~userfunc.js" dj_sn="ddl_showname" caption="保存ID字段显示名称字段" type="OF" isfile="是" center="  " posleft postop poswidth posheight toolbar="不带工具栏" window="当前窗口" BLONopen BLONclose idtype="1" entertype="修改" keyfield="djbh" codeheader="DAA" OtherSave="否" runsave billtaborder="<root><taborder>button1</taborder><taborder>text1</taborder><taborder>text2</taborder><taborder>dropdownlist1</taborder><taborder>textarea1</taborder></root>" controlno="SKButton:0;SKDBedit:0;checkbox:0;label:3;radio:0;listbox:0;textarea:0;combobox:0;password:0;upload:0;SKDBtext:0;chart:0;dbimg:0;img:0;SKBILLgrid:0;shape:0;tab:0;div:0;DsMain_field:0;a:0;button:1;text:2;hr:0;checkboxlist:0;radiolist:0;dropdownlist:1;grid:0;dataset:2;spin:0;excel:0;tree:0;ebshow:0" contxml="<root><label><id>label1</id><id>label2</id><id>label3</id></label><textarea><id>textarea1</id></textarea><button><id>button1</id></button><text><id>text1</id><id>text2</id></text><dropdownlist><id>dropdownlist1</id></dropdownlist><dataset><id>dataset1</id></dataset></root>" unselectable="on"><IMG id=dataset1 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() style="LEFT: 530px; WIDTH: 39px; POSITION: absolute; TOP: 46px; HEIGHT: 47px" onmovestart=moveStart() src="../../fceform/images/ef_designer_dataset.gif" opensortno="1" controltype="dataset" saveastable="fcs_bill" pubpara="否" iscreatetable opensql="select djbh,fcs_bill.sdwid,sdwname,fcs_bill.bz from fcs_bill inner join fcs_dw on fcs_bill.sdwid=fcs_dw.sdwid where djbh='DAA00000301'" BeforeOpen AfterOpen BeforePost AfterPost BeforeScroll AfterScroll formatxml='<root><tr rowstate="add"><td>DJBH</td><td>单据编号</td><td>字符</td><td>11</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>SDWID</td><td>SDWID</td><td>字符</td><td>11</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>SDWNAME</td><td>单位名称</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>BZ</td><td>备注</td><td>字符</td><td>60</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></root>'><IMG id=dropdownlist1 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() style="LEFT: 26px; WIDTH: 298px; POSITION: absolute; TOP: 84px; HEIGHT: 18px; ButtonWidth: 10" onmovestart=moveStart() src="../../fceform/images/ef_designer_fccode.gif" controltype="dropdownlist" visible="是" blninput="否" blnempty="否" addrow="否" multiselect="否" china="单位名称" dataset="dataset1" field="SDWNAME" check="2" format tempvalue temptext sql1="select sdwid,sdwname from fcs_dw" sql2 xml><LABEL onmove=move() oncontrolselect=controlselect() id=label1 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="LEFT: 29px; WIDTH: 65px; POSITION: absolute; TOP: 66px; HEIGHT: 15px" onmovestart=moveStart() controltype="label" NotBg="否">单位名称:</LABEL><LABEL onmove=move() oncontrolselect=controlselect() id=label2 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="LEFT: 31px; WIDTH: 65px; POSITION: absolute; TOP: 109px; HEIGHT: 15px" onmovestart=moveStart() controltype="label" NotBg="否">备注:</LABEL><INPUT onmove=move() oncontrolselect=controlselect() id=text1 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="LEFT: 26px; WIDTH: 295px; POSITION: absolute; TOP: 126px; HEIGHT: 20px" onmovestart=moveStart() size=53 controltype="text" china="备注" dataset="dataset1" field="BZ"><BUTTON onmove=move() oncontrolselect=controlselect() id=button1 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="LEFT: 199px; WIDTH: 75px; POSITION: absolute; TOP: 5px; HEIGHT: 25px" onmovestart=moveStart() controltype="button" fc_onclick="bill_onclick(&quot;$eform('修改保存')&quot;)" dropstyle="否">保 存</BUTTON><INPUT onmove=move() oncontrolselect=controlselect() id=text2 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="LEFT: 25px; WIDTH: 290px; POSITION: absolute; TOP: 44px; HEIGHT: 20px" onmovestart=moveStart() readOnly size=52 controltype="text" china="单据编号" dataset="dataset1" field="DJBH"><LABEL onmove=move() oncontrolselect=controlselect() id=label3 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="LEFT: 28px; WIDTH: 101px; POSITION: absolute; TOP: 26px; HEIGHT: 18px" onmovestart=moveStart() controltype="label" NotBg="否">DJBH主键字段:</LABEL><TEXTAREA onmove=move() oncontrolselect=controlselect() id=textarea1 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="LEFT: 11px; WIDTH: 378px; POSITION: absolute; TOP: 165px; HEIGHT: 177px" onmovestart=moveStart() readOnly cols=75 controltype="textarea" value="textarea1" induce="否">说明:本示例是演示用dropdownlist控件实现显示名称字段,而保存编码字段(或ID字段).主要设置是:在数据集中要同时有ID字段(如本例中的sdwid)和名称字段(如本例中的sdwname).数据集的sql语句要输出这两个字段的值.将dropdownlist控件绑定到名称字段.dropdownlist控件的sql语句中写上 select sdwid,sdwname from fcs_dw .同时要注意保存的物理表(如本例中的fcs_bill表)中应有ID字段(如本例中的sdwid)没有名称字段(如本例中的sdwname).这样就实现了在dropdownlist上显示名称，而在数据集中同时有ID字段和名称字段的值，保存到库中时只保存ID字段． </TEXTAREA></DIV>