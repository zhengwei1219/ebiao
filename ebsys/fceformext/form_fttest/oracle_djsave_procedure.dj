<script>function uf_save(){&#13;&#10;	var sdwname=DsMain.Field("sdwname").Value+"加存储过程";&#13;&#10;	var xmlproc="<proc name='ebpag3.e_testinsertpara'><params><param name='dwid' dataType='字符串'>ZCF00000802</param>  <param name='dwname' dataType='字符串'>"+sdwname+"</param><param name='phone' dataType='字符串'>82645156</param></params></proc>";	&#13;&#10;	DsMain.eventSaveRecordAfter = xmlproc;&#13;&#10;	var sErr = doSubmitData(function(){alert("提交数据成功!");CloseBill();}); &#13;&#10;	if(IsSpace(sErr)==false) alert(sErr);&#13;&#10;}&#13;&#10;&#13;&#10;function uf_testProcedure(){&#13;&#10;	var xmlproc1="<proc name='ebpag3.e_testinsertpara'><params><param name='dwid' dataType='字符串'>ZCF00000602</param>  <param name='dwname' dataType='字符串'>哈药集团3</param><param name='phone' dataType='字符串'>82645156</param></params></proc>";	&#13;&#10;	doSaveData(xmlproc1);&#13;&#10;}</script> 
<DIV class=dj oncontrolselect=controlselect() id=SKbillsheet onkeydown="" ondblclick="" contentEditable=true jslib="fcopendj.js&#13;&#10;fcsavedj.js&#13;&#10;fcstring.js&#13;&#10;fcnumdate.js&#13;&#10;fcselfuse.js&#13;&#10;fcbasecont.js&#13;&#10;fcother.js&#13;&#10;selectdate.js&#13;&#10;" para="<r></r>" dj_id="10" mastertable="employee" runsave isCheckPermit="否" alertType="1" userType BLONclose BLONopenBefore BLONopen center="居中" blmode="其他" unselectable="on" toolbar="不带工具栏" dj_sn="oracle_djsave_procedure" type="FT" caption="保存时执行存储过程" mkbh="ZC" codeheader="ZCF" keyfield="sdwid" window="当前窗口" entertype="修改" posleft postop poswidth="612" posheight="451" isfile="是" OtherSave="否" idtype="1" billtaborder="<root><taborder>SKDBedit2</taborder><taborder>SKDBedit1</taborder><taborder>FCButton3</taborder><taborder>textarea1</taborder><taborder>button2</taborder></root>" controlno="SKButton:4;SKDBedit:11;checkbox:0;label:1;radio:0;listbox:0;textarea:0;combobox:0;password:0;upload:0;SKDBtext:1;chart:0;dbimg:0;img:0;SKBILLgrid:0;shape:0;tab:0;div:0;DsMain_field:0;a:0;button:2;text:1;hr:0;checkboxlist:0;radiolist:0;dropdownlist:0;grid:0;dataset:0;spin:0;excel:0;tree:0;ebshow:0;ebiao:0;layout:0;page:0" contxml="<root><label><id>Label2</id><id>Label3</id></label><textarea><id>textarea1</id></textarea><button><id>FCButton3</id><id>button2</id></button><text><id>SKDBedit1</id><id>SKDBedit2</id></text><dataset><id>DsMain</id></dataset></root>"><SPAN id=Label2 style="DISPLAY: block; FONT-SIZE: 12px; LEFT: 13px; WIDTH: 49px; POSITION: absolute; TOP: 46px; HEIGHT: 12px" align="Left" NotBg="否" controltype="label">单位编码</SPAN><SPAN id=Label3 style="DISPLAY: block; FONT-SIZE: 12px; LEFT: 210px; WIDTH: 49px; POSITION: absolute; TOP: 46px; HEIGHT: 12px" align="Left" NotBg="否" controltype="label">单位名称</SPAN><INPUT id=SKDBedit1 style="DISPLAY: block; FONT-SIZE: 12px; LEFT: 264px; WIDTH: 121px; POSITION: absolute; TOP: 41px; HEIGHT: 20px; BACKGROUND-COLOR: #ffffff; TEXT-ALIGN: left" controltype="text" china="单位名称" field="SDWNAME" dataset="DsMain"><INPUT id=SKDBedit2 style="DISPLAY: block; FONT-SIZE: 12px; LEFT: 73px; WIDTH: 122px; POSITION: absolute; TOP: 41px; HEIGHT: 20px; BACKGROUND-COLOR: #ffffff; TEXT-ALIGN: left" controltype="text" china="单位编号" field="SDWCODE" dataset="DsMain"><BUTTON onmove=move() oncontrolselect=controlselect() id=FCButton3 onresize=resize() style="DISPLAY: block; FONT-SIZE: 12px; LEFT: 13px; WIDTH: 150px; FONT-FAMILY: ; POSITION: absolute; TOP: 1px; HEIGHT: 25px; BACKGROUND-COLOR: #d4d0c8" controltype="button" dropstyle="否" fc_onclick='bill_onclick("uf_save()")'>带SQL命令来保存</BUTTON><IMG id=DsMain style="LEFT: 451px; WIDTH: 42px; POSITION: absolute; TOP: 11px; HEIGHT: 45px" src="../../fceform/images/ef_designer_dataset.gif" idtype="1" controltype="dataset" saveastable="fcs_dw" formatxml='<root><tr rowstate="edit"><td>SDWCODE</td><td>单位编号</td><td>字符</td><td>15</td><td>0</td><td>数据项</td><td></td><td></td><td></td><td>是</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td>_blank</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>SDWID</td><td>单位ID</td><td>字符</td><td>11</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>是</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>SDWNAME</td><td>单位名称</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></root>' Like="否" pubpara="否" iscreatetable="否" opensql chnname AfterScroll BeforeScroll AfterPost BeforePost BeforeOpen AfterOpen opensortno="1" temptable="TMP_BILL_ZCASH_Y_DIRECT" isaddemptyrec="否" isSubGrid="否" submittype="2" submitno="1" savetable="FCS_DW" idparam="ZCF" issubds="否" subdsfield masterds masterdsfield datasourceName><TEXTAREA onmove=move() oncontrolselect=controlselect() id=textarea1 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="LEFT: 15px; WIDTH: 369px; POSITION: absolute; TOP: 69px; HEIGHT: 49px" onmovestart=moveStart() rows=1 readOnly cols=73 controltype="textarea" value="textarea1" induce="否">说明:本示例演示执行表单保存函数的同一事务中,同时执行一些其它的存储过程语句.</TEXTAREA><BUTTON onmove=move() oncontrolselect=controlselect() id=button2 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="LEFT: 184px; WIDTH: 202px; POSITION: absolute; TOP: 1px; HEIGHT: 25px" onmovestart=moveStart() controltype="button" fc_onclick='bill_onclick("uf_testProcedure()")'>doSaveData方法执行存储过程</BUTTON></DIV>