<script>//打开表单时调用&#13;&#10;function uf_open () {&#13;&#10;	&#13;&#10;	//表格的焦点移动到第二列时发生事件&#13;&#10;	imgwebgrid1.onCellChange = function (event) {&#13;&#10;		//if(event.newTD.cellIndex != 2) return ;//焦点是否在第二列上，&#13;&#10;		var curRow = event.newTD.parentNode.rowIndex ;//焦点所在的当前行&#13;&#10;		var sval = imgwebgrid1.tab.rows(curRow).cells(3).innerText ; //ID值在第三列上&#13;&#10;		if(IsSpace(sval) == false) {&#13;&#10;			imgwebgrid1.tab.children[0].children[2].cz = "<code><format>名称</format><sql1>select areaname as areaname1 from FCS_AREA where father_id='"+sval+"' </sql1><blninput>否</blninput><blnempty>否</blnempty><check>2</check><onclickopen>event.showlist=true</onclickopen></code>"&#13;&#10;		}else{&#13;&#10;			imgwebgrid1.tab.children[0].children[2].cz = "<code><format></format><sql1></sql1><blninput>否</blninput><blnempty>否</blnempty><check>2</check><onclickopen>event.showlist=true</onclickopen></code>"&#13;&#10;		}&#13;&#10;	}&#13;&#10;}&#13;&#10;</script> 
<DIV oncontrolselect=controlselect() id=SKbillsheet contentEditable=true jslib="fcopendj.js&#13;&#10;fcsavedj.js&#13;&#10;fcstring.js&#13;&#10;fcnumdate.js&#13;&#10;fcselfuse.js&#13;&#10;fcbasecont.js&#13;&#10;fcother.js&#13;&#10;selectdate.js" contxml="<root><label><id>Label1</id><id>Label4</id><id>Label5</id><id>Label6</id></label><button><id>FCButton2</id></button><grid><id>imgwebgrid1</id></grid><dataset><id>imgdataset1</id></dataset></root>" controlno="SKButton:0;SKDBedit:0;checkbox:0;label:0;radio:0;listbox:0;textarea:0;combobox:0;password:0;upload:0;SKDBtext:0;chart:0;dbimg:0;img:0;SKBILLgrid:0;shape:0;tab:0;div:0;DsMain_field:0;a:0;button:1;text:1;hr:0;checkboxlist:0;radiolist:0;dropdownlist:0;grid:0;dataset:0;spin:0;excel:0;tree:0;ebshow:0;ebiao:0;layout:0;page:0" billtaborder="<root><taborder>FCButton2</taborder><taborder>imgwebgrid1</taborder></root>" idtype="1" OtherSave="否" isfile="是" posheight poswidth postop posleft entertype="修改" window="当前窗口" keyfield codeheader="BBB" mkbh caption="grid17_联动选择SQL数据" type="SH1" dj_sn="sh_y_webgrid17" toolbar="不带工具栏" unselectable="on" center="居中" BLONopen="uf_open()" BLONopenBefore BLONclose userType alertType="1" isCheckPermit="否" allBrowser="是"><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 492px; HEIGHT: 294px; TOP: 50px; LEFT: 8px" id=imgwebgrid1 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_webgrid.gif" controltype="grid" visible="是" dataset="imgdataset1" canselect="是" autoheight="否" autowidth="否" autoappend="否" readonly="否" titlerowheight usertitle="否" titlerows usertitlehtml iscrosstab="否" crosstabtitle crosstabdatatype crosstabsumtype crosstabformat rowtitle coltitle rcount="否" rsum="否" rmin="否" rmax="否" ravg="否" ccount="否" csum="否" cmin="否" cmax="否" cavg="否" crosstabsql csstext1="FONT-SIZE: 12px; OVERFLOW: hidden; BACKGROUND-COLOR: #ffffff" csstext2="FONT-SIZE: 12px; OVERFLOW: hidden; BACKGROUND-COLOR: #c0c0c0"><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 39px; HEIGHT: 47px; TOP: 127px; LEFT: 519px" id=imgdataset1 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_dataset.gif" idtype="1" controltype="dataset" datasourceName async="否" masterdsfield masterds subdsfield issubds="否" idparam savetable submitno="1" submittype="1" isSubGrid="否" isaddemptyrec="否" saveastable temptable="TMP_IMGDATASET1" opensortno="1" AfterOpen BeforeOpen BeforePost AfterPost BeforeScroll AfterScroll chnname opensql="select New_areaid,areaname,father_id from FCS_AREA where father_id='0'" iscreatetable="否" pubpara="否" Like="否" formatxml='<root><tr rowstate="add"><td>areaname</td><td>城市</td><td>字符</td><td>60</td><td>0</td><td>数据项</td><td></td><td></td><td>选%3Ccode%3E%3Cformat%3E%7C%u540D%u79F0%21%3C/format%3E%3Csql1%3Eselect%20new_areaid%2Careaname%20from%20FCS_AREA%20where%20father_id%3D%270%27%3C/sql1%3E%3Cblninput%3E%u5426%3C/blninput%3E%3Cblnempty%3E%u5426%3C/blnempty%3E%3Ccheck%3E2%3C/check%3E%3C/code%3E</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>180</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>areaname1</td><td>市区</td><td>字符</td><td>60</td><td>0</td><td>数据项</td><td></td><td></td><td>选%3Ccode%3E%3Cformat%3E%3C/format%3E%3Cblninput%3E%u5426%3C/blninput%3E%3Cblnempty%3E%u5426%3C/blnempty%3E%3Ccheck%3E1%3C/check%3E%3C/code%3E</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>180</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>new_areaid</td><td>ID</td><td>字符</td><td>10</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>0</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></root>'><BUTTON onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; BACKGROUND-COLOR: #d4d0c8; WIDTH: 75px; DISPLAY: block; FONT-FAMILY: ; HEIGHT: 25px; FONT-SIZE: 12px; TOP: 51px; LEFT: 513px" id=FCButton2 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="button" fc_onclick='bill_onclick("imgdataset1.Append()")' dropstyle="否">增加行</BUTTON> 
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 42px; DISPLAY: block; FONT-FAMILY: 宋体; HEIGHT: 15px; COLOR: #0000ff; FONT-SIZE: 16px; TOP: 23px; FONT-WEIGHT: bold; LEFT: 13px" id=Label1 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() noWrap controltype="label" value="Label1">Sql数据联动</DIV>
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 138px; DISPLAY: block; FONT-FAMILY: ; HEIGHT: 15px; FONT-SIZE: 12px; TOP: 387px; LEFT: 20px" id=Label4 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() noWrap controltype="label" value="Label2">表格第一列中下拉列表的值是从数据库中查询的数据</DIV>
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 132px; DISPLAY: block; FONT-FAMILY: ; HEIGHT: 15px; FONT-SIZE: 12px; TOP: 409px; LEFT: 21px" id=Label5 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() noWrap controltype="label" value="Label5">第二列中的值是跟拒第一列中值改变后，动态加值</DIV>
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 42px; DISPLAY: block; FONT-FAMILY: ; HEIGHT: 15px; FONT-SIZE: 12px; TOP: 366px; LEFT: 22px" id=Label6 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() noWrap controltype="label" value="Label6">Sql数据联动</DIV></DIV>