<script>//保存&#13;&#10;function uf_Save(){&#13;&#10;	if(!uf_Validate())return;&#13;&#10;	logInfo("budgeteering_table", "保存成功.", getUserProfile());&#13;&#10;    var sErr = doSubmitData(function(){&#13;&#10;    	alert(DsMain.Field('table_id').Value);&#13;&#10;    	uf_SetParam();&#13;&#10;    	parent.window.location = location.protocol + "//" + location.host + GetUrlFirstPart() &#13;&#10; 								+ "/ebsys/fceform/common/djframe.htm?djsn=mx_construct_prj_budget&djtype=MX&tableId="&#13;&#10; 								+ DsMain.Field('table_id').Value + "&closeOrExit=1&prjId=" + prjId.value + "&deptId="&#13;&#10; 								+ DsMain.Field('editor_dept_id').Value;&#13;&#10;    });&#13;&#10;    if(!IsSpace(sErr)){&#13;&#10;    	alert(sErr);&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;//验证.&#13;&#10;function uf_Validate(){&#13;&#10;	if(IsSpace(editorDeptName.value.trim())){&#13;&#10;		alert("编制单位不得为空.");&#13;&#10;		return false;&#13;&#10;	}&#13;&#10;	if(IsSpace(contentDesc.value.trim())){&#13;&#10;		alert("编制内容不得为空.");&#13;&#10;		return false;&#13;&#10;	}&#13;&#10;	if(IsSpace(version.value.trim())){&#13;&#10;		alert("版本不得为空.");&#13;&#10;		return false;&#13;&#10;	}&#13;&#10;	return true;&#13;&#10;}&#13;&#10;&#13;&#10;//设置传递参数.&#13;&#10;function uf_SetParam(){&#13;&#10;	//SetPara("tableId",DsMain.Field('table_id').Value);&#13;&#10;   	SetPara("applyDeptId",DsMain.Field('editor_dept_id').Value);&#13;&#10;   	SetPara("applyDeptName",DsMain.Field('editor_dept_name').Value);&#13;&#10;   	SetPara("applyDeptNo",getDept(DsMain.Field('editor_dept_id').Value).getDeptNo());&#13;&#10;   	SetPara("version",DsMain.Field('version').Value);&#13;&#10;   	SetPara("applierId",DsMain.Field('created_by_id').Value);&#13;&#10;   	SetPara("applierName",DsMain.Field('created_by').Value);&#13;&#10;   	SetPara("applierNo",getEmp(DsMain.Field('created_by_id').Value).getEmpNo());&#13;&#10;   	SetPara("budgetYear",DsMain.Field('budget_year').Value);&#13;&#10;}&#13;&#10;&#13;&#10;function uf_Exit(){&#13;&#10;    submitForm("mx_template","MX");&#13;&#10;}&#13;&#10;&#13;&#10;function initData(){&#13;&#10;	var SQL = "select * from bm_budgeteering_table";&#13;&#10;    if(GetPara('tableId').trim().length > 0){&#13;&#10;    	SQL += " where table_id='" + GetPara('tableId') + "'";&#13;&#10;    } else {&#13;&#10;    	SQL += " where 1<>1";&#13;&#10;    }&#13;&#10;    DsMain.Open(SQL);&#13;&#10;}</script> 
<DIV oncontrolselect=controlselect() id=SKbillsheet contentEditable=true unselectable="on" jslib="fcopendj.js&#13;&#10;fcsavedj.js&#13;&#10;fcselfuse.js&#13;&#10;fcbasecont.js&#13;&#10;fcother.js&#13;&#10;selectdate.js&#13;&#10;~userfunc.js&#13;&#10;~common.js&#13;&#10;~json2.js" userType dj_sn="mx_construct_prj_budgeteering" type="MX" caption="在建项目预算编制批次" BLONopen="initData();DsMain.Append()" window="当前窗口" posleft postop poswidth posheight isfile="是" controlno="SKButton:0;SKDBedit:0;checkbox:0;label:17;radio:0;listbox:0;textarea:1;combobox:1;password:0;upload:0;SKDBtext:0;chart:0;dbimg:0;img:8;SKBILLgrid:0;shape:0;tab:0;div:4;DsMain_field:0;a:0;button:17;text:30;hr:0;checkboxlist:0;radiolist:0;dropdownlist:5;grid:0;dataset:5;spin:0;excel:0;tree:0;ebshow:0;ebiao:0;layout:0" contxml="<root><textarea><id>budgeteeringDesc</id></textarea><combobox><id>prjId</id></combobox><button><id>button16</id><id>button17</id></button><text><id>contentDesc</id><id>version</id></text><dropdownlist><id>editorDeptName</id></dropdownlist><dataset><id>DsMain</id><id>DsBudgeteering</id></dataset></root>" center="  " BLONopenBefore BLONclose toolbar="不带工具栏" billtaborder="<root><taborder>button16</taborder><taborder>button17</taborder><taborder>contentDesc</taborder><taborder>version</taborder><taborder>budgeteeringDesc</taborder><taborder>prjId</taborder><taborder>editorDeptName</taborder></root>"><TABLE class="x-panel-header x-unselectable fixedRow" height=25 width="100%">
<TBODY>
<TR>
<TD align=left width=20><IMG style="POSITION: static" src="../../fceformext/res/edit.png" controltype="img" cover="9" srcsk="../../fceformext/res/edit.png"></TD>
<TD align=left>预算编制批次信息</TD>
<TD>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE class="x-toolbar x-small-editor" width="100%" border=0>
<TBODY>
<TR>
<TD width=50><BUTTON onmove=move() oncontrolselect=controlselect() id=button16 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() onmovestart=moveStart() dropstyle="否" fc_onclick='bill_onclick("uf_Save()")' controltype="button">下一步</BUTTON></TD>
<TD width=50><BUTTON onmove=move() oncontrolselect=controlselect() id=button17 onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() onmovestart=moveStart() dropstyle="否" fc_onclick='bill_onclick("uf_Exit()")' controltype="button">返回</BUTTON></TD>
<TD>&nbsp;</TD></TR></TBODY></TABLE>
<DIV class=supp-body>
<DIV class=panel-header>预算编制</DIV>
<DIV class=panel-body>
<TABLE cellSpacing=3 width="90%" align=center bgColor=#f4f7fc border=0>
<TBODY>
<TR>
<TD align=right width=100><FONT color=red>*</FONT>责任单位:</TD>
<TD width=220><IMG id=editorDeptName onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() style="WIDTH: 215px; HEIGHT: 19px; ButtonWidth: 10" onmovestart=moveStart() height=20 src="../../fceform/images/ef_designer_fccode.gif" width=199 controltype="dropdownlist" datasourceName sql="select dept_id as editor_dept_id,dept_name as editor_dept_name from spsys_v_department" check="2" temptext tempvalue china="EDITOR_DEPT_NAME" format="|编制单位      !" xml multiselect="否" addrow="否" blnempty="否" blninput="是" visible="是" field="EDITOR_DEPT_NAME" dataset="DsBudgeteering"></TD>
<TD class=notes>&nbsp;预算的编制单位.</TD></TR>
<TR>
<TD align=right width=100><FONT color=red>*</FONT>所属项目:</TD>
<TD width=220><SELECT onmove=move() oncontrolselect=controlselect() id=prjId onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="LEFT: 0px; WIDTH: 216px; POSITION: static; TOP: 0px; HEIGHT: 25px" onmovestart=moveStart() controltype="combobox" async="否" datasourceName="bmmx_2010" sql="select prj_id,prj_name from mx_project" check="2" temptext tempvalue></SELECT></TD>
<TD class=notes>&nbsp;预算的编制单位.</TD></TR>
<TR>
<TD align=right width=100><FONT color=red>*</FONT>编制内容:</TD>
<TD width=220><INPUT onmove=move() oncontrolselect=controlselect() id=contentDesc onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="WIDTH: 100%; HEIGHT: 21px" onmovestart=moveStart() size=25 controltype="text" china="编制内容" field="content_desc" dataset="DsBudgeteering"></TD>
<TD class=notes>&nbsp;本次编制批次的编号，例如:20100903</TD></TR>
<TR>
<TD align=right width=90><FONT color=red>*</FONT>版本:</TD>
<TD width=220><INPUT onmove=move() oncontrolselect=controlselect() id=version onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="WIDTH: 100%; HEIGHT: 21px" onmovestart=moveStart() size=25 controltype="text" china="VERSION" field="VERSION" dataset="DsMain"></TD>
<TD class=notes>&nbsp;本次批次的版本，例如:标准版</TD></TR>
<TR>
<TD align=right width=90>批次说明:</TD>
<TD width=220><TEXTAREA onmove=move() oncontrolselect=controlselect() id=budgeteeringDesc onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() onresize=resize() style="WIDTH: 100%; HEIGHT: 45px" onmovestart=moveStart() cols=23 controltype="textarea" china="BUDGETEERING_DESC" field="BUDGETEERING_DESC" dataset="DsMain" induce="否" value="textarea1"></TEXTAREA></TD>
<TD class=notes>&nbsp;关于本次编制的说明内容.</TD></TR></TBODY></TABLE></DIV></DIV><IMG id=DsMain onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() style="LEFT: 688px; WIDTH: 39px; POSITION: absolute; TOP: 304px; HEIGHT: 47px" onmovestart=moveStart() src="../../fceform/images/ef_designer_dataset.gif" controltype="dataset" async="否" datasourceName="bmmx_2010" issubds="是" savetable="BM_BUDGETEERING_TABLE" submitno="1" submittype="2" BeforeOpen isSubGrid="否" isaddemptyrec="否" pubpara="否" opensortno="1" AfterScroll fieldtrans="<root><field><name>MODIFIED_BY_ID</name><trans>getUserProfile%28%29.getEmpId%28%29</trans><rtrans></rtrans></field><field><name>MODIFIED_BY</name><trans>getUserProfile%28%29.getEmpName%28%29</trans><rtrans></rtrans></field><field><name>TEMPLATE_NAME</name><trans>GetPara%28%27templateName%27%29</trans><rtrans></rtrans></field><field><name>BUDGETEERING_DESC</name><trans>DsBudgeteering.Field%28%27BUDGETEERING_DESC%27%29.Value</trans><rtrans></rtrans></field><field><name>TEMPLATE_ID</name><trans>GetPara%28%27templateId%27%29</trans><rtrans></rtrans></field><field><name>TEMPLATE_NO</name><trans>GetPara%28%27templateId%27%29</trans><rtrans></rtrans></field><field><name>BUDGETEERING_NO</name><trans>DsBudgeteering.Field%28%27BUDGETEERING_NO%27%29.Value</trans><rtrans></rtrans></field><field><name>MODIFIED_DATE</name><trans>getDate%28%29.format%28%27yyyy-MM-dd%20hh%3Amm%3Ass%27%29</trans><rtrans></rtrans></field><field><name>CREATED_DATE</name><trans>getDate%28%29.format%28%27yyyy-MM-dd%20hh%3Amm%3Ass%27%29</trans><rtrans></rtrans></field><field><name>CREATED_BY</name><trans>getUserProfile%28%29.getEmpName%28%29</trans><rtrans></rtrans></field><field><name>CREATED_BY_ID</name><trans>getUserProfile%28%29.getEmpId%28%29</trans><rtrans></rtrans></field><field><name>EDITOR_DEPT_ID</name><trans>getUserProfile%28%29.getDeptId%28%29</trans><rtrans></rtrans></field><field><name>EDITOR_DEPT_NAME</name><trans>getUserProfile%28%29.getDeptName%28%29</trans><rtrans></rtrans></field><field><name>DEPT_NAME</name><trans>getUserProfile%28%29.getDeptName%28%29</trans><rtrans></rtrans></field><field><name>DEPT_ID</name><trans>getUserProfile%28%29.getDeptId%28%29</trans><rtrans></rtrans></field><field><name>BUDGET_YEAR</name><trans>getBudgetYear%28%29</trans><rtrans></rtrans></field><field><name>BUDGETEERING_ID</name><trans>DsBudgeteering.Field%28%27BUDGETEERING_ID%27%29.Value</trans><rtrans></rtrans></field><field><name>TABLE_TYPE</name><trans>2</trans><rtrans></rtrans></field></root>" masterdsfield="BUDGETEERING_ID" masterds="DsBudgeteering" subdsfield="BUDGETEERING_ID" AfterOpen BeforePost AfterPost BeforeScroll idparam saveastable opensql formatxml="<root><tr rowstate=&quot;add&quot;><td>TABLE_ID</td><td>TABLE_ID</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>是</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>TABLE_FOOTER_CONTENT</td><td>TABLE_FOOTER_CONTENT</td><td>字符</td><td>255</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>MANAGE_DEPT_ID</td><td>MANAGE_DEPT_ID</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>MANAGE_DEPT_NAME</td><td>MANAGE_DEPT_NAME</td><td>字符</td><td>128</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>TABLE_HEADER_CONTENT</td><td>TABLE_HEADER_CONTENT</td><td>字符</td><td>255</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>VALIDATION_PASSED</td><td>VALIDATION_PASSED</td><td>字符</td><td>1</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>IS_SUM_TYPE</td><td>IS_SUM_TYPE</td><td>字符</td><td>1</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>TIME_DIMENSION</td><td>TIME_DIMENSION</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>CREATED_BY_ID</td><td>CREATED_BY_ID</td><td>字符</td><td>32</td><td></td><td>变量默认值</td><td>getUserProfile().getEmpId()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>CREATED_BY</td><td>CREATED_BY</td><td>字符</td><td>32</td><td></td><td>变量默认值</td><td>getUserProfile().getEmpName()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>MODIFIED_BY_ID</td><td>MODIFIED_BY_ID</td><td>字符</td><td>32</td><td></td><td>变量默认值</td><td>getUserProfile().getEmpId()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>MODIFIED_BY</td><td>MODIFIED_BY</td><td>字符</td><td>32</td><td></td><td>变量默认值</td><td>getUserProfile().getEmpName()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>EFFECTIVATED_BY_ID</td><td>EFFECTIVATED_BY_ID</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>EFFECTIVATED_BY</td><td>EFFECTIVATED_BY</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>EFFECTIVE_VERSION_DESC</td><td>EFFECTIVE_VERSION_DESC</td><td>字符</td><td>255</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>EFFECTIVATED_BY_DEPT_ID</td><td>EFFECTIVATED_BY_DEPT_ID</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>EFFECTIVATED_BY_DEPT</td><td>EFFECTIVATED_BY_DEPT</td><td>字符</td><td>64</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>TEMPLATE_NAME</td><td>TEMPLATE_NAME</td><td>字符</td><td>64</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>PROC_DEF</td><td>PROC_DEF</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>FML_GROUP_ID</td><td>FML_GROUP_ID</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>BUDGETEERING_DESC</td><td>BUDGETEERING_DESC</td><td>字符</td><td>255</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>TEMPLATE_ID</td><td>TEMPLATE_ID</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>TEMPLATE_NO</td><td>TEMPLATE_NO</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>EDITOR_DEPT_ID</td><td>EDITOR_DEPT_ID</td><td>字符</td><td>32</td><td></td><td>变量默认值</td><td>getUserProfile().getDeptId()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>EDITOR_DEPT_NAME</td><td>EDITOR_DEPT_NAME</td><td>字符</td><td>64</td><td></td><td>变量默认值</td><td>getUserProfile().getDeptName()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>BUDGETEERING_NO</td><td>BUDGETEERING_NO</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>BUDGETEERING_ID</td><td>BUDGETEERING_ID</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>DEPT_NAME</td><td>DEPT_NAME</td><td>字符</td><td>128</td><td></td><td>变量默认值</td><td>getUserProfile().getDeptName()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>DEPT_ID</td><td>DEPT_ID</td><td>字符</td><td>32</td><td></td><td>变量默认值</td><td>getUserProfile().getDeptId()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>TABLE_GROUP_ID</td><td>TABLE_GROUP_ID</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>VERSION</td><td>VERSION</td><td>字符</td><td>64</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>EFFECTIVATED_DATE</td><td>EFFECTIVATED_DATE</td><td>日期</td><td>8</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>CREATED_DATE</td><td>CREATED_DATE</td><td>日期</td><td>8</td><td></td><td>变量默认值</td><td>getDate().format('yyyy-MM-dd hh:mm:ss')</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>MODIFIED_DATE</td><td>MODIFIED_DATE</td><td>日期</td><td>8</td><td></td><td>变量默认值</td><td>getDate().format('yyyy-MM-dd hh:mm:ss')</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>STATUS</td><td>STATUS</td><td>整数</td><td>4</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>right</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>TABLE_TYPE</td><td>TABLE_TYPE</td><td>整数</td><td>4</td><td></td><td>变量默认值</td><td>2</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>right</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>BUDGET_VALUE_TYPE</td><td>BUDGET_VALUE_TYPE</td><td>整数</td><td>4</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>right</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>BUDGET_YEAR</td><td>BUDGET_YEAR</td><td>整数</td><td>4</td><td></td><td>变量默认值</td><td>getBudgetYear()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>right</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>EFFECTIVE_VERSION</td><td>EFFECTIVE_VERSION</td><td>整数</td><td>4</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>right</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>TEMPLATE_VERSION</td><td>TEMPLATE_VERSION</td><td>整数</td><td>4</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>right</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>budgeteering_period</td><td>budgeteering_period</td><td>整数</td><td>4</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>right</td><td>80</td><td></td><td></td><td>$valid('整数');</td><td></td><td></td><td></td><td></td><td></td></tr></root>" queryTableName="BM_BUDGETEERING_TABLE" idtype="8"><IMG id=DsBudgeteering onresizeend=resizeEnd() onresizestart=resizeStart() onmoveend=moveEnd() style="LEFT: 563px; WIDTH: 39px; POSITION: absolute; TOP: 287px; HEIGHT: 47px" onmovestart=moveStart() src="../../fceform/images/ef_designer_dataset.gif" controltype="dataset" async="否" datasourceName="bmmx_2010" issubds="否" savetable="BM_BUDGETEERING" submitno="1" submittype="2" BeforeOpen isSubGrid="否" isaddemptyrec="否" pubpara="否" opensortno="1" AfterScroll fieldtrans="<root><field><name>BUDGETEERING_NO</name><trans></trans><rtrans></rtrans></field><field><name>BUDGETEERING_DATE</name><trans>getDate%28%29.format%28%27yyyy-MM-dd%20hh%3Amm%3Ass%27%29</trans><rtrans></rtrans></field><field><name>CREATED_DATE</name><trans>getDate%28%29.format%28%27yyyy-MM-dd%20hh%3Amm%3Ass%27%29</trans><rtrans></rtrans></field><field><name>MODIFIED_DATE</name><trans>getDate%28%29.format%28%27yyyy-MM-dd%20hh%3Amm%3Ass%27%29</trans><rtrans></rtrans></field><field><name>BUDGET_YEAR</name><trans>getBudgetYear%28%29</trans><rtrans></rtrans></field><field><name>content_desc</name><trans>getBudgetYear%28%29+%27-%27+getUserProfile%28%29.getDeptName%28%29+%27-%27+GetPara%28%27templateName%27%29</trans><rtrans></rtrans></field><field><name>CREATED_BY_ID</name><trans>getUserProfile%28%29.getEmpId%28%29</trans><rtrans></rtrans></field><field><name>EDITOR_DEPT_ID</name><trans>getUserProfile%28%29.getDeptId%28%29</trans><rtrans></rtrans></field><field><name>EDITOR_DEPT_NAME</name><trans>getUserProfile%28%29.getDeptName%28%29</trans><rtrans></rtrans></field><field><name>MODIFIED_BY</name><trans>getUserProfile%28%29.getEmpName%28%29</trans><rtrans></rtrans></field><field><name>MODIFIED_BY_ID</name><trans>getUserProfile%28%29.getEmpId%28%29</trans><rtrans></rtrans></field><field><name>CREATED_BY</name><trans>getUserProfile%28%29.getEmpName%28%29</trans><rtrans></rtrans></field></root>" masterdsfield masterds subdsfield AfterOpen BeforePost AfterPost BeforeScroll idparam saveastable opensql formatxml="<root><tr rowstate=&quot;add&quot;><td>BUDGETEERING_ID</td><td>BUDGETEERING_ID</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>是</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>PROC_DEF_NAME</td><td>PROC_DEF_NAME</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>VALIDATION_PASSED</td><td>VALIDATION_PASSED</td><td>字符</td><td>1</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>FINAL_APPROVER_ID</td><td>FINAL_APPROVER_ID</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>FINAL_APPROVER_NAME</td><td>FINAL_APPROVER_NAME</td><td>字符</td><td>64</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>CREATED_BY_ID</td><td>CREATED_BY_ID</td><td>字符</td><td>32</td><td></td><td>变量默认值</td><td>getUserProfile().getEmpId()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>CREATED_BY</td><td>CREATED_BY</td><td>字符</td><td>32</td><td></td><td>变量默认值</td><td>getUserProfile().getEmpName()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>MODIFIED_BY_ID</td><td>MODIFIED_BY_ID</td><td>字符</td><td>32</td><td></td><td>变量默认值</td><td>getUserProfile().getEmpId()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>MODIFIED_BY</td><td>MODIFIED_BY</td><td>字符</td><td>32</td><td></td><td>变量默认值</td><td>getUserProfile().getEmpName()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>BUDGETEERING_NO</td><td>BUDGETEERING_NO</td><td>字符</td><td>32</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>BUDGETEERING_DESC</td><td>BUDGETEERING_DESC</td><td>字符</td><td>255</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>EDITOR_DEPT_ID</td><td>EDITOR_DEPT_ID</td><td>字符</td><td>32</td><td></td><td>变量默认值</td><td>getUserProfile().getDeptId()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>EDITOR_DEPT_NAME</td><td>EDITOR_DEPT_NAME</td><td>字符</td><td>128</td><td></td><td>变量默认值</td><td>getUserProfile().getDeptName()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>BUDGETEERING_DATE</td><td>BUDGETEERING_DATE</td><td>日期</td><td>8</td><td></td><td>变量默认值</td><td>getDate().format('yyyy-MM-dd hh:mm:ss')</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>CREATED_DATE</td><td>CREATED_DATE</td><td>日期</td><td>8</td><td></td><td>变量默认值</td><td>getDate().format('yyyy-MM-dd hh:mm:ss')</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>MODIFIED_DATE</td><td>MODIFIED_DATE</td><td>日期</td><td>8</td><td></td><td>变量默认值</td><td>getDate().format('yyyy-MM-dd hh:mm:ss')</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>BUDGET_YEAR</td><td>BUDGET_YEAR</td><td>整数</td><td>4</td><td></td><td>变量默认值</td><td>getBudgetYear()</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>right</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>BUDGETEERING_STATUS</td><td>BUDGETEERING_STATUS</td><td>整数</td><td>4</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>right</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>content_desc</td><td>编制内容</td><td>字符</td><td>255</td><td></td><td>变量默认值</td><td>getBudgetYear()+'-'+getUserProfile().getDeptName()+'-'+GetPara('templateName')</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></root>" queryTableName="BM_BUDGETEERING" idtype="8"></DIV>