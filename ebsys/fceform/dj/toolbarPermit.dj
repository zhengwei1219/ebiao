<script>var oldIndex = -1;&#13;&#10;&#13;&#10;function uf_open(){&#13;&#10;	new Eform.SysForm().setButtonImage();&#13;&#10;	&#13;&#10;	var oDs = fcpubdata.obj[0];&#13;&#10;	var fieldName = fcpubdata.obj[1];&#13;&#10;	var sValue = oDs.Field(fieldName).Value	;&#13;&#10;	if(IsSpace(sValue) == false){&#13;&#10;		var oXml = SetDom(unescape(sValue));&#13;&#10;		if(oXml.documentElement != null){&#13;&#10;			var userIds = oXml.documentElement.childNodes(0).text;&#13;&#10;			//SetDivCheckBoxValue(lstUser,userIds,"",true);&#13;&#10;			dataset1.Field("userid").Value = userIds;&#13;&#10;			dataset1.Field("username").Value = oXml.documentElement.childNodes(0).getAttribute("chnname");&#13;&#10;			//txtUser.value = dataset1.Field("username").Value;&#13;&#10;			SetTextValue(dataset1.Field("username").Value, $id("txtUser"));&#13;&#10;			var profileIds = oXml.documentElement.childNodes(1).text;&#13;&#10;			//SetDivCheckBoxValue(lstProfile,profileIds,"",true);&#13;&#10;			dataset1.Field("profileid").Value = profileIds;&#13;&#10;			dataset1.Field("profilename").Value = oXml.documentElement.childNodes(1).getAttribute("chnname");&#13;&#10;			//txtProfile.value = dataset1.Field("profilename").Value;&#13;&#10;			SetTextValue(dataset1.Field("profilename").Value, $id("txtProfile"));&#13;&#10;&#13;&#10;			if(oXml.documentElement.childNodes.length>2){&#13;&#10;				//有流程信息&#13;&#10;				lstWf.outerHTML = SelectAddOption(lstWf,unescape(oXml.documentElement.childNodes(2).text));&#13;&#10;				if(lstWf.selectedIndex != -1){&#13;&#10;					&#13;&#10;					uf_show_ds(unescape(lstWf.options(lstWf.selectedIndex).value));&#13;&#10;					oldIndex = lstWf.selectedIndex;&#13;&#10;				}&#13;&#10;				/*&#13;&#10;				var oNode = oXml.documentElement.childNodes(2);&#13;&#10;				for(var j=0;j<oNode.childNodes.length;j++){&#13;&#10;					if(j==0){ //只做第一次&#13;&#10;						lblName.innerText = oNode.childNodes(j).getAttribute("wf_name");	&#13;&#10;						lblVersion.innerText = oNode.childNodes(j).getAttribute("wf_version");&#13;&#10;						uf_search();&#13;&#10;					}&#13;&#10;					var actionId = oNode.childNodes(j).getAttribute("action_id");&#13;&#10;					for(var k=0;k<DsMain.oDom.documentElement.childNodes.length-1;k++){&#13;&#10;						//alert(DsMain.oDom.documentElement.childNodes(k).childNodes(4).text +"=="+ actionId)&#13;&#10;						if(DsMain.oDom.documentElement.childNodes(k).childNodes(4).text == actionId)&#13;&#10;							DsMain.oDom.documentElement.childNodes(k).childNodes(6).text = "是";		&#13;&#10;					}&#13;&#10;				}&#13;&#10;				DsMain.dset_cont();&#13;&#10;				DsMain.dset_fset();&#13;&#10;				*/&#13;&#10;			}&#13;&#10;		}&#13;&#10;	}&#13;&#10;	&#13;&#10;}&#13;&#10;function uf_ok(){&#13;&#10;	var oDs = fcpubdata.obj[0];&#13;&#10;	var fieldName = fcpubdata.obj[1];&#13;&#10;&#13;&#10;	if(oldIndex != -1){&#13;&#10;		uf_update_in_list(oldIndex);&#13;&#10;	}&#13;&#10;	&#13;&#10;	var sb = new Sys.StringBuilder("<root>");&#13;&#10;	sb.append("<user chnname=\""+dataset1.Field("username").Value+"\">");&#13;&#10;	var userIds = dataset1.Field("userid").Value; //GetDivCheckBoxValue(lstUser);&#13;&#10;	sb.append(userIds);&#13;&#10;	sb.append("</user>");&#13;&#10;	sb.append("<profile chnname=\""+dataset1.Field("profilename").Value+"\">");&#13;&#10;	var profileIds = dataset1.Field("profileid").Value;//GetDivCheckBoxValue(lstProfile);&#13;&#10;	sb.append(profileIds);&#13;&#10;	sb.append("</profile>");&#13;&#10;	&#13;&#10;	sb.append("<wf>");&#13;&#10;	&#13;&#10;	//sb.append(escape(lstWf.innerHTML));&#13;&#10;	sb.append(lstWf.innerHTML);&#13;&#10;	sb.append("</wf>");&#13;&#10;	sb.append("</root>");&#13;&#10;&#13;&#10;	var sR = sb.toString();&#13;&#10;	if(IsSpace(userIds) == true && IsSpace(profileIds) == true && IsSpace(lstWf.innerHTML) == true) sR = ""; &#13;&#10;	if(IsSpace(sR) == false) sR = escape(sR);&#13;&#10;	oDs.Field(fieldName).Value = sR;&#13;&#10;	&#13;&#10;	&#13;&#10;	var fieldName2 = "expDisable";&#13;&#10;	if(fieldName == "valueHide") fieldName2 = "expHide";&#13;&#10;	&#13;&#10;	var value2 = uf_gen_exp(userIds,"用户.ID");&#13;&#10;	if(IsSpace(value2) == false)	value2 +=  " || ";&#13;&#10;	var sProfile = uf_gen_exp(profileIds,"简档.ID");&#13;&#10;	if(IsSpace(sProfile) == false)	value2 += sProfile+ " || ";&#13;&#10;	//value2 += uf_gen_permit_js();&#13;&#10;	var lstLen = lstWf.length;&#13;&#10;	for(var i=0;i<lstLen;i++){&#13;&#10;		var oOpt = lstWf.options(i);&#13;&#10;		var sJs = oOpt.permitJs;&#13;&#10;		if(IsSpace(sJs)) continue;&#13;&#10;		value2 += sJs;&#13;&#10;	}&#13;&#10;	&#13;&#10;	if(IsSpace(value2) == false)	value2 =  value2.substring(0,value2.length-4);&#13;&#10;	&#13;&#10;	if(IsSpace(value2) == false)	value2 = escape(value2);&#13;&#10;	oDs.Field(fieldName2).Value = value2;&#13;&#10;	oDs.Update();&#13;&#10;	oDs.fset_cont();&#13;&#10;	CloseBill();&#13;&#10;}&#13;&#10;function uf_gen_exp(ids,name){&#13;&#10;	if(IsSpace(ids)) return "";&#13;&#10;	var sb = new Sys.StringBuilder();&#13;&#10;	var arr = ids.split(",");&#13;&#10;	for(var i=0;i<arr.length;i++){&#13;&#10;		sb.append("getpubvalue('"+name+"')=='"+arr[i]+"'");&#13;&#10;		if(i<arr.length-1) sb.append(" || ");		&#13;&#10;	}&#13;&#10;	return sb.toString();&#13;&#10;}&#13;&#10;function uf_select_user(){&#13;&#10;	CommonSelect({&#13;&#10;		width : 760,&#13;&#10;		height : 500,&#13;&#10;		title : "选择用户",//窗口标题&#13;&#10;		isgrid : 1,  &#13;&#10;		ismultisel : 1,  //1是多选,0是单选&#13;&#10;		obj : txtUser,   //用于修改的前一窗口控件对象,包含grid对象&#13;&#10;	//	textfieldname : "username",&#13;&#10;		idfieldname : "userid",&#13;&#10;		selectedvalue : dataset1.Field('userid').Value ,&#13;&#10;		hidefields : "userid",  // 隐藏字段&#13;&#10;		gridcolwidth : [200,200],//grid控件的各列列宽,是一个数组,写法: [80,100,70] ,需要和grid显示的列一一对应上.&#13;&#10;		gridcoltitle : ["用户编号","用户名称"],  //grid控件的各列的标题,是一个数组,写法: ["第一列名称","第二列名称","第三列名称"] ,需要和grid显示的列一一对应上.&#13;&#10;		sql : "select "+fcuser.userId+" as userid,"+fcuser.userCode+" as loginname,"+fcuser.userName+" as username from "+ fcuser.userTable + uf_fcqTable()//+" where "+fcuser.userStatus +"='1'"&#13;&#10;		})&#13;&#10;//sql : "select userid,loginname,username from fcq_user where deleteMark = 0"&#13;&#10;}&#13;&#10;function uf_select_profile(){&#13;&#10;	CommonSelect({&#13;&#10;		width : 760,&#13;&#10;		height : 500,&#13;&#10;		title : "选择简档",//窗口标题&#13;&#10;		isgrid : 1,  &#13;&#10;		ismultisel : 1,  //1是多选,0是单选&#13;&#10;		obj : txtProfile,   //用于修改的前一窗口控件对象,包含grid对象&#13;&#10;	//	textfieldname : "username",&#13;&#10;		idfieldname : "profileid",&#13;&#10;		selectedvalue : dataset1.Field('profileid').Value ,&#13;&#10;		hidefields : "profileid",  // 隐藏字段&#13;&#10;		gridcolwidth : [300],//grid控件的各列列宽,是一个数组,写法: [80,100,70] ,需要和grid显示的列一一对应上.&#13;&#10;		gridcoltitle : ["简档名称"],  //grid控件的各列的标题,是一个数组,写法: ["第一列名称","第二列名称","第三列名称"] ,需要和grid显示的列一一对应上.&#13;&#10;		sql : "select "+fcuser.roleId + " as profileid,"+fcuser.roleName + " as profilename from "+ fcuser.roleTable + uf_fcqTable() //+" where " + fcuser.roleStatus +"='1'"&#13;&#10;		})&#13;&#10;	//sql : "select profileid,profilename from fcq_profile where deleteMark = 0"&#13;&#10;}&#13;&#10;&#13;&#10;/**&#13;&#10;**添加一个判断表名是正康在线平台的用户表和简档表&#13;&#10;**/&#13;&#10;function uf_fcqTable(){&#13;&#10;	if(fcuser.userName.toLowerCase() == "fcq_user" || fcuser.roleTable.toLowerCase() == "fcq_profile"){&#13;&#10;		return " where deleteMark=0";	&#13;&#10;	}else {&#13;&#10;		return "";	&#13;&#10;	}&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;/**&#13;&#10;* 流程list控件的onchange事件&#13;&#10;**/&#13;&#10;function uf_list_onchange(){&#13;&#10;	uf_update_in_list(oldIndex);		&#13;&#10;	var pos = lstWf.selectedIndex;&#13;&#10;	oldIndex = pos;&#13;&#10;	uf_show_ds(unescape(lstWf.options(pos).value));	&#13;&#10;}&#13;&#10;/**&#13;&#10;* 增加一个流程信息&#13;&#10;**/&#13;&#10;function uf_add_wf(){&#13;&#10;	uf_update_in_list(lstWf.selectedIndex);&#13;&#10;	var oRet = uf_openflow_list();&#13;&#10;	if(typeof(oRet) == "undefined") return;&#13;&#10;	&#13;&#10;	&#13;&#10;	&#13;&#10;	var pos = lstWf.length;&#13;&#10;	var oOpt=document.createElement("option");&#13;&#10;	//oOpt.wfname = oRet.wfname;&#13;&#10;	//oOpt.wfversion = oRet.wfversion;&#13;&#10;	oOpt.text = oRet.wfname +" : "+oRet.wfversion;&#13;&#10;	lstWf.add(oOpt);		&#13;&#10;	lstWf.selectedIndex = pos;&#13;&#10;	oldIndex = pos;&#13;&#10;}&#13;&#10;/**&#13;&#10;* 删除一个流程信息&#13;&#10;**/&#13;&#10;function uf_del_wf(){&#13;&#10;	var pos = lstWf.selectedIndex;&#13;&#10;	if(pos == -1) return;&#13;&#10;	&#13;&#10;	lstWf.remove(pos);&#13;&#10;	if(lstWf.length > 0){&#13;&#10;		lstWf.selectedIndex = 0;&#13;&#10;		uf_show_ds(unescape(lstWf.options(lstWf.selectedIndex).value));		&#13;&#10;		oldIndex = 0;&#13;&#10;	}&#13;&#10;}&#13;&#10;/**&#13;&#10;* 将数据集中的信息更新到list中&#13;&#10;**/&#13;&#10;function uf_update_in_list(index){&#13;&#10;	if(index == -1) return;&#13;&#10;	var oOption = lstWf.options(index);&#13;&#10;	if(oOption == null) return;&#13;&#10;	oOption.value = escape(DsMain.RecordData);&#13;&#10;	oOption.permitJs = uf_gen_permit_js();	&#13;&#10;	&#13;&#10;}&#13;&#10;/**&#13;&#10;* 用记录信息来刷新数据集&#13;&#10;**/&#13;&#10;function uf_show_ds(sXml){&#13;&#10;	&#13;&#10;	var ss = DsMain.xml;&#13;&#10;	var pos = ss.indexOf("<set><pages>");&#13;&#10;	if (pos>=0){&#13;&#10;		ss = ss.substring(pos,ss.length);	&#13;&#10;	}&#13;&#10;	ss= "<root>"+sXml+ss;&#13;&#10;	&#13;&#10;	DsMain.OpenXmlData(ss);	&#13;&#10;	&#13;&#10;}&#13;&#10;/**&#13;&#10;* 生成单个流程的权限的JS脚本&#13;&#10;**/&#13;&#10;function uf_gen_permit_js(){&#13;&#10;	&#13;&#10;	var l=DsMain.oDom.documentElement.childNodes.length-1;&#13;&#10;	&#13;&#10;	var items = "";&#13;&#10;	for(var i=0;i<l;i++){&#13;&#10;&#13;&#10;		if(DsMain.oDom.documentElement.childNodes(i).childNodes(6).text == "是"){&#13;&#10;			var wfname = DsMain.oDom.documentElement.childNodes(i).childNodes(0).text;&#13;&#10;			var wfversion = DsMain.oDom.documentElement.childNodes(i).childNodes(1).text;&#13;&#10;			var actionid = DsMain.oDom.documentElement.childNodes(i).childNodes(4).text;&#13;&#10;			&#13;&#10;			var stepname = DsMain.oDom.documentElement.childNodes(i).childNodes(3).text;			&#13;&#10;			var actionname = DsMain.oDom.documentElement.childNodes(i).childNodes(5).text;&#13;&#10;			&#13;&#10;			items +=" ($urlParam('wfName')=='" + wfname +"' && $urlParam('wfVersion')=='" + wfversion + "' && $urlParam('actionId')=='"+ actionid + "' ) || ";		&#13;&#10;			&#13;&#10;					&#13;&#10;		}&#13;&#10;	}&#13;&#10;	&#13;&#10;	return items;&#13;&#10;}&#13;&#10;/**&#13;&#10;* 打开流程列表,选择一个流程后,将信息加到数据集中.&#13;&#10;**/&#13;&#10;function uf_openflow_list(){&#13;&#10;&#13;&#10;	//获取fcworkflow.xml中的factoryname &#13;&#10;	var sKey = "?operate=get_factory_name";&#13;&#10;	&#13;&#10;	var strReturn=new Eapi.RunAjax().sendHttp(location.protocol+'//'+location.host + fcpubdata.servletPath + '/WorkflowPortal'+fcpubdata.dotnetVersion + sKey,"");&#13;&#10;	if(strReturn == ""){ // my add&#13;&#10;		var objReturn = window.showModalDialog("../../fceform/common/djframe.htm?djsn=wf_xml_list&djtype=WF_DSN", window, "dialogHeight:520px; dialogWidth:690px;help:no;center:yes;status:no;resizable:no;location:yes;scroll:yes");&#13;&#10;		if (objReturn==null) return;&#13;&#10;		&#13;&#10;		lblName.innerText = objReturn[0];&#13;&#10;		lblVersion.innerText = objReturn[4];&#13;&#10;		return;&#13;&#10;	}&#13;&#10;	var oDom=SetDom(strReturn);&#13;&#10;&#13;&#10;	var bResult=oDom.childNodes(0).childNodes(0).text;&#13;&#10;	&#13;&#10;	if (bResult=="false") {&#13;&#10;		alert(oDom.childNodes(0).childNodes(1).text);&#13;&#10;		return;	&#13;&#10;	}&#13;&#10;	&#13;&#10;	var factoryName = oDom.childNodes(0).childNodes(1).text; //factory=db或xml	&#13;&#10;	&#13;&#10;	var surl = "";&#13;&#10;	if (factoryName=="db")&#13;&#10;		surl = "../../fceform/common/djframe.htm?djsn=wf_db_list&djtype=WF_DSN";&#13;&#10;	else&#13;&#10;		surl = "../../fceform/common/djframe.htm?djsn=wf_xml_list&djtype=WF_DSN";&#13;&#10;		&#13;&#10;	var objReturn = window.showModalDialog(surl, window, "dialogHeight:570px; dialogWidth:680px;help:no;center:yes;status:no;resizable:no;location:yes;scroll:yes;dialogLeft:260;dialogTop:353");&#13;&#10;	if (objReturn==null) return;&#13;&#10;	&#13;&#10;	var wfname = objReturn[0];&#13;&#10;	var wfversion =  objReturn[4];&#13;&#10;		&#13;&#10;	if (wfname==null || wfname=="") return;&#13;&#10;	if (wfversion==null || wfversion=="") return ;&#13;&#10;	&#13;&#10;	var sKey = "?operate=flow_action_list";&#13;&#10;&#13;&#10;	sKey +="&wf_name=" + wfname;&#13;&#10;&#13;&#10;	sKey +="&wf_version=" + wfversion;&#13;&#10;	&#13;&#10;	var strReturn=new Eapi.RunAjax().sendHttp(location.protocol+'//'+location.host + fcpubdata.servletPath + '/WorkflowPortal'+fcpubdata.dotnetVersion + sKey,"");&#13;&#10;	&#13;&#10;	var oDom=SetDom(strReturn);&#13;&#10;&#13;&#10;	var bResult=oDom.childNodes(0).childNodes(0).text;&#13;&#10;	&#13;&#10;	if (bResult=="false") {&#13;&#10;		alert(oDom.childNodes(0).childNodes(1).text);&#13;&#10;		return;	&#13;&#10;	}&#13;&#10;&#13;&#10;	var sXml = oDom.childNodes(0).childNodes(1).xml;&#13;&#10;	sXml = sXml.substring(3,sXml.length-4);//去掉<n></n>&#13;&#10;	uf_show_ds(sXml);	&#13;&#10;&#13;&#10;	return {wfname : wfname,wfversion : wfversion};	&#13;&#10;}&#13;&#10;&#13;&#10;</script> 
<DIV oncontrolselect=controlselect() id=SKbillsheet contentEditable=true toolbar="不带工具栏" BLONopenBefore="getUserConfiguration();" BLONclose center="居中" BLONopen="uf_open()" dj_sn="toolbarPermit" type="ST" caption="工具栏按钮权限" window="有模式窗口" posleft postop poswidth="600" posheight="520" isfile="是" billtaborder="<root><taborder>button1</taborder><taborder>button2</taborder><taborder>cmdDropDown1</taborder><taborder>cmdDropDown2</taborder><taborder>txtUser</taborder><taborder>txtProfile</taborder><taborder>grid1</taborder><taborder>lstWf</taborder><taborder>button8</taborder><taborder>button9</taborder></root>" controlno="SKButton:0;SKDBedit:0;checkbox:0;label:7;radio:0;listbox:1;textarea:2;combobox:0;password:0;upload:0;SKDBtext:0;chart:0;dbimg:0;img:0;SKBILLgrid:0;shape:1;tab:1;div:0;DsMain_field:0;a:0;button:9;text:1;hr:0;checkboxlist:3;radiolist:1;dropdownlist:0;grid:0;dataset:1;spin:0;excel:0;tree:0;ebshow:0;ebiao:0;layout:0;page:0;eblayout:0" contxml="<root><label><id>label5</id><id>label6</id><id>label7</id></label><listbox><id>lstWf</id></listbox><shape><id>shape1</id></shape><button><id>button1</id><id>button2</id><id>cmdDropDown1</id><id>cmdDropDown2</id><id>button8</id><id>button9</id></button><text><id>txtUser</id><id>txtProfile</id></text><grid><id>grid1</id></grid><dataset><id>DsMain</id><id>dataset1</id></dataset></root>" userType alertType="1" isCheckPermit="否" jslib="fcopendj.js&#13;&#10;fcsavedj.js&#13;&#10;fcselfuse.js&#13;&#10;fcbasecont.js&#13;&#10;fcother.js&#13;&#10;selectdate.js&#13;&#10;~userfunc.js" unselectable="on"><BUTTON onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 75px; HEIGHT: 25px; TOP: 445px; LEFT: 375px" id=button1 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="button" fc_onclick='bill_onclick("uf_ok()")'>确 定</BUTTON><BUTTON onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 75px; HEIGHT: 25px; TOP: 446px; LEFT: 462px" id=button2 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="button" fc_onclick="bill_onclick(&quot;$eform('关闭窗口')&quot;)">取 消</BUTTON><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 572px; HEIGHT: 283px; TOP: 154px; LEFT: 5px" id=grid1 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_webgrid.gif" canselect="是" autoheight="否" autowidth="否" autoappend="否" readonly="否" visible="是" SetRowHeight="是" hideHscroll="auto" hideVscroll="auto" blRowNo="否" bodyrowheight="-1" bodyrows="-1" dataset="DsMain" controltype="grid" crosstabdatatype="0" crosstabsql cavg="否" cmax="否" cmin="否" csum="否" ccount="否" ravg="否" rmax="否" rmin="否" rsum="否" rcount="否" coltitle rowtitle crosstabformat crosstabsumtype="0" crosstabtitle iscrosstab="否" usertitle usertitlehtml titlerows titlerowheight><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 39px; HEIGHT: 47px; TOP: 115px; LEFT: 601px" id=DsMain onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_dataset.gif" idtype="1" controltype="dataset" opensortno="1" issubds="否" savetable submitno="1" submittype="1" isaddemptyrec="否" pubpara="是" saveastable isSubGrid="否" AfterOpen BeforeOpen BeforePost AfterPost BeforeScroll AfterScroll iscreatetable="否" async="否" datasourceName idparam opensql subdsfield masterds masterdsfield formatxml='<root><tr rowstate="add"><td>wf_name</td><td>流程英文名</td><td>字符</td><td>40</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>wf_version</td><td>流程版本</td><td>字符</td><td>10</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>step_id</td><td>流程步骤id</td><td>字符</td><td>11</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>step_name</td><td>步骤名称</td><td>字符</td><td>40</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>220</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="edit"><td>action_id</td><td>动作id</td><td>字符</td><td>11</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>100</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>action_name</td><td>动作名称</td><td>字符</td><td>40</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>220</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>select</td><td>选择</td><td>字符</td><td>10</td><td>0</td><td>数据项</td><td></td><td></td><td>勾</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>center</td><td>40</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></root>'><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 78px; HEIGHT: 17px; TOP: 7px; LEFT: 13px" id=label5 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">选择用户：</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 94px; HEIGHT: 24px; TOP: 37px; LEFT: 13px" id=label6 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">选择${role}：</LABEL><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 440px; HEIGHT: 20px; TOP: 5px; LEFT: 97px" id=txtUser onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() value=username readOnly size=79 dataset="dataset1" controltype="text" china="username" field="username"><BUTTON onresizeend=resizeEnd() oncontrolselect=controlselect() style="BORDER-BOTTOM: 0px; POSITION: absolute; BORDER-LEFT: 0px; WIDTH: 26px; HEIGHT: 24px; BORDER-TOP: 0px; TOP: 5px; BORDER-RIGHT: 0px; LEFT: 536px" id=cmdDropDown1 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="button" fc_onclick='bill_onclick("uf_select_user()")'></BUTTON><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 440px; HEIGHT: 20px; TOP: 33px; LEFT: 97px" id=txtProfile onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() value=profilename readOnly size=79 dataset="dataset1" controltype="text" china="profilename" field="profilename"><BUTTON onresizeend=resizeEnd() oncontrolselect=controlselect() style="BORDER-BOTTOM: 0px; POSITION: absolute; BORDER-LEFT: 0px; WIDTH: 26px; HEIGHT: 24px; BORDER-TOP: 0px; TOP: 33px; BORDER-RIGHT: 0px; LEFT: 536px" id=cmdDropDown2 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="button" fc_onclick='bill_onclick("uf_select_profile()")'></BUTTON><?xml:namespace prefix = v /><v:line onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 566px; HEIGHT: 15px; TOP: 61px; LEFT: 6px" id=shape1 onresize="" onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="shape" linetype="横线" cover="9" from = "0,0" to = "424.5pt,0" fillcolor = "white" strokecolor = "black" strokeweight = "1pt"><v:stroke dashstyle = "longDashDot"></v:stroke></v:line><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 39px; HEIGHT: 47px; TOP: 5px; LEFT: 585px" id=dataset1 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_dataset.gif" idtype="1" controltype="dataset" opensortno="1" issubds="否" savetable submitno="1" submittype="1" isaddemptyrec="是" pubpara="否" saveastable isSubGrid="否" AfterOpen BeforeOpen BeforePost AfterPost BeforeScroll AfterScroll async="否" datasourceName idparam opensql subdsfield masterds masterdsfield formatxml='<root><tr rowstate="add"><td>userid</td><td>userid</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>username</td><td>username</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>profileid</td><td>profileid</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>profilename</td><td>profilename</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></root>'><SELECT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 467px; HEIGHT: 54px; TOP: 90px; LEFT: 10px" id=lstWf onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() onchange='bill_onclick("uf_list_onchange()")' size=8 controltype="listbox" async="否" datasourceName sql temptext tempvalue check="1"></SELECT><BUTTON onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 76px; HEIGHT: 25px; TOP: 87px; LEFT: 487px" id=button8 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="button" fc_onclick='bill_onclick("uf_add_wf()")'>增加流程</BUTTON><BUTTON onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 76px; HEIGHT: 25px; TOP: 114px; LEFT: 486px" id=button9 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="button" fc_onclick='bill_onclick("uf_del_wf()")'>删除流程</BUTTON><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 75px; HEIGHT: 15px; TOP: 72px; LEFT: 13px" id=label7 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">流程列表:</LABEL></DIV>