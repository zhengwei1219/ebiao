<script>var pos = "";&#13;&#10;function uf_open(){&#13;&#10;	uf_initImg();&#13;&#10;	uf_initCheckedImg()&#13;&#10;}&#13;&#10;function uf_initImg(){&#13;&#10;	//unitId = dataset1.Field('id').Value;&#13;&#10;	var str = "";&#13;&#10;	var divPosTop=1;&#13;&#10;	var divPosLeft =1;&#13;&#10;	for(var x=0;x<13;x++){&#13;&#10;		if(x == 0){&#13;&#10;			divPosTop = 0;&#13;&#10;		}else{&#13;&#10;			divPosTop += 30;&#13;&#10;		}&#13;&#10;		&#13;&#10;		for(var y=0;y<16;y++){&#13;&#10;			if(y == 0){&#13;&#10;				divPosLeft = 0;&#13;&#10;			}else{&#13;&#10;				divPosLeft += 30;&#13;&#10;			}&#13;&#10;            var imgPosX = -40 * y + "px";&#13;&#10;            var imgPosY = -30 * x + "px";&#13;&#10;            str += "<div onclick='uf_checkedImg()' style='cursor:hand;margin-top:6px;margin-left:6px;position:absolute; top:"+divPosTop+"px;left:"+divPosLeft+"px;z-index:1000;background-image:url(../workflat/img/menu-all.png); background-position:" + imgPosX + " " + imgPosY + "; background-repeat:no-repeat; width:16px; height:16px;' imgPos='"+y+","+x+"'></div>"; &#13;&#10;		}&#13;&#10;	}	&#13;&#10;	divImg.innerHTML = str;&#13;&#10;}&#13;&#10;&#13;&#10;function uf_checkedImg(){	&#13;&#10;	var oSource = window.event.srcElement ;&#13;&#10;	//dataset1.Field('imgPos').Value = oSource.imgPos;&#13;&#10;	checkedImg.style.cssText = oSource.style.cssText;&#13;&#10;	checkedImg.style.left = "0px";&#13;&#10;	checkedImg.style.top = "0px";&#13;&#10;	checkedImg.style.marginTop = "1px";&#13;&#10;	checkedImg.style.marginLeft = "1px";&#13;&#10;	pos = oSource.imgPos;&#13;&#10;}&#13;&#10;function uf_initCheckedImg(){&#13;&#10;	var imgPos = fcpubdata.obj;&#13;&#10;	var arrPos = imgPos.split(",");&#13;&#10;	var imgPosX = -40 * parseInt(arrPos[0]) + "px";&#13;&#10;    var imgPosY = -30 * parseInt(arrPos[1]) + "px";&#13;&#10;	checkedImg.style.cssText = "cursor:hand;position:absolute;left:0px;top=0px; z-index:1000;background-image:url(../workflat/img/menu-all.png); background-position:" + imgPosX + " " + imgPosY + "; background-repeat:no-repeat; width:16px; height:16px;";&#13;&#10;}&#13;&#10;&#13;&#10;function uf_ok(){&#13;&#10;	window.returnValue=pos;&#13;&#10;    window.close();	&#13;&#10;}</script> 
<DIV oncontrolselect=controlselect() id=SKbillsheet contentEditable=true toolbar="自定义工具栏" dj_sn="zk_set_menu_img" type="ZK" caption="设置菜单图标" window="有模式窗口" posleft postop poswidth="500" posheight="480" isfile="是" billtaborder="<root></root>" controlno="SKButton:0;SKDBedit:0;checkbox:0;label:0;radio:0;listbox:0;textarea:0;combobox:0;password:0;upload:0;SKDBtext:0;chart:0;dbimg:0;img:0;SKBILLgrid:0;shape:0;tab:0;div:1;DsMain_field:0;a:0;button:0;text:0;hr:0;checkboxlist:0;radiolist:0;dropdownlist:0;grid:0;dataset:0;spin:0;excel:0;tree:0;ebshow:0;ebiao:0;layout:0;page:0;eblayout:0;test:0" contxml="<root><label><id>label12</id></label><div><id>div4</id><id>checkedImg</id><id>divImg</id></div></root>" userToolbar='<tr rowstate="add"><td>ok</td><td>提交数据成功后刷新上一窗口</td><td></td><td>uf_ok()</td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>close</td><td>关闭窗口</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' center="居中" BLONopen="uf_open()" BLONopenBefore BLONclose userType alertType="1" isCheckPermit="否" useHelp allBrowser="否" BLONresizeAfter BLONresizeBefore jslib="fcopendj.js&#13;&#10;fcsavedj.js&#13;&#10;fcselfuse.js&#13;&#10;fcbasecont.js&#13;&#10;fcother.js&#13;&#10;selectdate.js&#13;&#10;~userfunc.js" envType="电脑" unselectable="on" runParams><DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="BORDER-BOTTOM: 1px solid; POSITION: absolute; BORDER-LEFT: 1px solid; WIDTH: 18px; HEIGHT: 18px; BORDER-TOP: 1px solid; TOP: 3px; BORDER-RIGHT: 1px solid; LEFT: 429px" id=div4 onresize=resize() onmove=move() class=control-border-color onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="div">
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="BORDER-BOTTOM: 1px solid; POSITION: absolute; BORDER-LEFT: 1px solid; WIDTH: 18px; HEIGHT: 18px; BORDER-TOP: 1px solid; TOP: 0px; BORDER-RIGHT: 1px solid; LEFT: 0px" id=checkedImg onresize=resize() onmove=move() class=control-border-color onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="div"></DIV></DIV><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 465px; HEIGHT: 19px; TOP: 5px; LEFT: 9px" id=label12 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">单击选择下面的图标，功能点做菜单时，会显示在前面，选中后会显示在方框中</LABEL> 
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="BORDER-BOTTOM: 1px solid; POSITION: absolute; BORDER-LEFT: 1px solid; WIDTH: 489px; HEIGHT: 360px; BORDER-TOP: 1px solid; TOP: 26px; BORDER-RIGHT: 1px solid; LEFT: 8px" id=divImg onresize=resize() onmove=move() class=control-border-color onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="div"></DIV></DIV>