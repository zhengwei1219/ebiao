<script>var key1 = "";&#13;&#10;var keyName1 = "";&#13;&#10;//var roottext = "角色";&#13;&#10;//var tbname ='tbname1';&#13;&#10;//var roottext1 = "角色";&#13;&#10;&#13;&#10;function uf_Open(){&#13;&#10;	new Eform.SysForm().setButtonImage();&#13;&#10;	dataset2.Field('typeId').Value = fcpubdata.obj.Field('typeId').Value;&#13;&#10;	$id('manageType').innerText = fcpubdata.obj.Field('chnname').Value;&#13;&#10;	var sql = "select tbname1,tbname2,selFunc1 ,selFunc2 ,sql1,sql2 from  fcq_relation_dict_type where typeId='"+fcpubdata.obj.Field('typeId').Value+"'";&#13;&#10;	var xmlRet1 = SelectSql(sql, 1, 1);&#13;&#10;    var oXml1 = SetDom(xmlRet1);&#13;&#10;    if (oXml1.documentElement == null) {&#13;&#10;        alert(xmlRet1);&#13;&#10;        return;&#13;&#10;    }&#13;&#10;	if (oXml1.documentElement.childNodes.length < 1) return;&#13;&#10;    //var table1 = oXml1.documentElement.childNodes[0].childNodes[0].text;&#13;&#10;    //var table2 = oXml1.documentElement.childNodes[0].childNodes[1].text;&#13;&#10;    var selFunc1 = oXml1.documentElement.childNodes[0].childNodes[2].text;&#13;&#10;    var selFunc2 = oXml1.documentElement.childNodes[0].childNodes[3].text;&#13;&#10;    var sql1 = oXml1.documentElement.childNodes[0].childNodes[4].text;&#13;&#10;    var sql2 = oXml1.documentElement.childNodes[0].childNodes[5].text;&#13;&#10;    if(IsSpace(selFunc1) == false)	{//函数和sql语句的规则，有函数先用函数，没函数就用sql&#13;&#10;    	selFunc1 = unescape(selFunc1);&#13;&#10;		$id('dropTable1').onclickopen="bill_onclick(\""+selFunc1+"\")";&#13;&#10;    } else{&#13;&#10;    	sql1 = unescape(sql1);&#13;&#10;    	dropTable1.sql1 = sql1;&#13;&#10;    } &#13;&#10;    &#13;&#10;    if(IsSpace(selFunc2) == false)	{&#13;&#10;    	selFunc2 = unescape(selFunc2);&#13;&#10;    	$id('dropTable2').onclickopen="bill_onclick(\""+selFunc2+"\")";&#13;&#10;    } else{&#13;&#10;    	sql2 = unescape(sql2);&#13;&#10;    	dropTable2.sql1 = sql2;&#13;&#10;    } &#13;&#10;}&#13;&#10;&#13;&#10;</script> 
<DIV oncontrolselect=controlselect() id=SKbillsheet contentEditable=true jslib="fcopendj.js&#13;&#10;fcsavedj.js&#13;&#10;fcselfuse.js&#13;&#10;fcbasecont.js&#13;&#10;fcother.js&#13;&#10;selectdate.js&#13;&#10;~userfunc.js" unselectable="on" BLONopenBefore BLONclose center="居中" BLONopen="uf_Open()" dj_sn="zk_relation_card" type="ZK" caption="关系词典卡片表" window="有模式窗口" posleft postop poswidth="330" posheight="300" isfile="是" billtaborder="<root><taborder>dropTable1</taborder><taborder>dropTable2</taborder></root>" controlno="SKButton:0;SKDBedit:0;checkbox:0;label:6;radio:0;listbox:2;textarea:0;combobox:1;password:0;upload:0;SKDBtext:0;chart:0;dbimg:0;img:0;SKBILLgrid:0;shape:0;tab:0;div:0;DsMain_field:0;a:0;button:12;text:6;hr:0;checkboxlist:0;radiolist:0;dropdownlist:6;grid:2;dataset:3;spin:0;excel:0;tree:1;ebshow:0;ebiao:0;layout:0;page:0;eblayout:0;test:undefined" contxml="<root><label><id>label2</id><id>label3</id><id>manageType</id><id>label6</id></label><dropdownlist><id>dropTable1</id><id>dropTable2</id></dropdownlist><dataset><id>dataset2</id></dataset></root>" userType alertType="1" isCheckPermit="否" BLONresizeBefore BLONresizeAfter allBrowser="是" useHelp envType="电脑" userToolbar='<tr rowstate="add"><td>ok</td><td>提交数据成功后刷新上一窗口</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>close</td><td>关闭窗口</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' toolbar="自定义工具栏"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 58px; HEIGHT: 17px; TOP: 25px; LEFT: 12px" id=label2 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() inputTag="否" controltype="label">关系一</LABEL><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 39px; HEIGHT: 47px; TOP: 84px; LEFT: 384px" id=dataset2 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_dataset.gif" idtype="5" controltype="dataset" datasourceName saveastable AfterOpen BeforeOpen BeforePost AfterPost BeforeScroll AfterScroll formatxml='<root><tr rowstate="add"><td>key1</td><td>当前id</td><td>字符</td><td>250</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>是</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>keyName1</td><td>关系一</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>否</td><td>否</td><td>是</td><td>是</td><td>否</td><td>是</td><td>否</td><td></td><td></td><td>left</td><td>180</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>keyName2</td><td>关系二</td><td>字符</td><td>250</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>是</td><td>否</td><td>是</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>180</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>key2</td><td>接受分配者id</td><td>字符</td><td>250</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>是</td><td>是</td><td>否</td><td>是</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>typeId</td><td>id字段</td><td>字符</td><td>11</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>是</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>tbname1</td><td>表一</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>tbname2</td><td>表二</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></root>' subdsfield masterds masterdsfield idparam opensql fieldtrans="<root><field><name>keyName2</name><trans></trans><rtrans></rtrans><sql></sql></field></root>" async="否" opensortno="1" pubpara="否" isaddemptyrec="否" isSubGrid="否" submittype="1" submitno="1" savetable="fcq_relation_dict" issubds="否"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 69px; HEIGHT: 22px; TOP: 50px; LEFT: 12px" id=label3 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() inputTag="否" controltype="label">关系二</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 196px; HEIGHT: 15px; TOP: 4px; LEFT: 72px" id=manageType onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() inputTag="否" controltype="label"></LABEL><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 229px; HEIGHT: 16px; TOP: 23px; LEFT: 68px; ButtonWidth: 10" id=dropTable1 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_fccode.gif" controltype="dropdownlist" dataset="dataset2" visible="是" sql temptext tempvalue check="2" china="当前" FieldNameList isTreeNewSql="0" isShowTree="0" xml blninput="是" blnempty="否" addrow="否" multiselect="否" field="keyName1" datasourceName format><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 229px; HEIGHT: 16px; TOP: 47px; LEFT: 68px; ButtonWidth: 10" id=dropTable2 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_fccode.gif" controltype="dropdownlist" dataset="dataset2" visible="是" sql temptext tempvalue check="2" china="分配给" FieldNameList isTreeNewSql="0" isShowTree="0" xml blninput="是" blnempty="否" addrow="否" multiselect="否" field="keyName2" datasourceName format><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 65px; HEIGHT: 15px; TOP: 7px; LEFT: 12px" id=label6 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() inputTag="否" controltype="label">关系类型</LABEL></DIV>