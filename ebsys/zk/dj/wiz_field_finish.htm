<html xmlns:fc xmlns:v="urn:schemas-microsoft-com:vml">
	<HEAD>
	    <meta http-equiv="Content-Type" content="text/html; charset=gb2312">
	    
	    <link rel="stylesheet" type="text/css" href="../../fceform/css/dj.css">
		<STYLE> .userData{behavior:url(#default#userData);}</STYLE>
		<script src="../../fceform/js/MicrosoftAjax.js"></script>
		<script src="../../fceform/js/fcpub.js"></script>
		<script src="../../fceform/js/fcrundj.js"></script>
		<script src="../../fceform/js/tabpane.js"></script>		
	</HEAD>
	<body onload="pub_window_onload()"
		onkeydown="RunTabindex()" onbeforeunload="pub_window_onbeforeunload()" onkeypress="pub_window_onkeypress()"
		onresize="pub_window_onresize()">
		<script>pub_djhtm();</script>
<script>var objNav=new Object();
objNav.prevPage = "wiz_field_common" ;
objNav.nextPage = "" ;
objNav.saveConfig = saveConfig;
objNav.isOk = true;

function uf_open() 
{
	e_PropWinOnload();
	objNav.config = parent.parent.toolbar.WizardConfig ;
	txtTbName.value=objNav.config.tbname;
	txtFieldType.value=objNav.config.type;
    //SetButtonImage(cmdUp,"../images/ef_run_button_up.gif") ;
	SetRadioValue($id("radioSqlType"),objNav.config.sqlType);
	//SetTextValue(objNav.config.fieldType,$id("txtFieldType"));
    SetTextValue(objNav.config.fdname,$id("txtName"));
    SetTextValue(objNav.config.fdchnname,$id("txtChnName"));
    if(objNav.config.editTag == 3)
    {
    	lblTitle.innerText = "编辑字段"	
    }
    uf_nav();
    uf_alterSql();
}
//保存配置信息,由工具栏来调用
function saveConfig()
{
	objNav.isOk = true;
	objNav.config.fieldType = $id("txtFieldType").value;
	objNav.config.sqlType = $id("radioSqlType").value;
	
}
function uf_nav()
{
	objNav.prevPage = WizardGetFormName(objNav.config.type);
	parent.parent.toolbar.execScript("new Eform.Wizard().disabledButton();")
}

function uf_close(){
	 parent.parent.returnValue = "ok";
	 parent.parent.close();
}

function uf_alterSql(){
    if($id('radioSqlType').value == 1){
       $id('alterSql').style.display="block";
       $id('txtSql').style.display="block";
       parent.parent.toolbar.execScript("cmdOkBefore();");
       var sqlxml = parent.parent.toolbar.MakeSaveSql(objNav.config);
    	 $id('alterSql').value =sqlxml;
    }else{
    	$id('alterSql').style.display="none";
    	$id('txtSql').style.display="none";
    }	
}</script><script src='../../fceform/js/fcopendj.js'></script><script defer src='../../fceform/js/fcsavedj.js'></script><script src='../../fceform/js/fcselfuse.js'></script><script src='../../fceform/js/fcbasecont.js'></script><script defer src='../../fceform/js/fcother.js'></script><script defer src='../../fceform/js/selectdate.js'></script><script src='../../fceform/../fceformext/js/userfunc.js'></script>
<DIV id=SKbillsheet toolbar="不带工具栏" AutoResizeXml BLONopenBefore runsave BLONclose center="居中" BLONopen="uf_open()" dj_sn="wiz_field_finish" type="ZK" caption="wiz_field_finish" codeheader keyfield window="有模式窗口" entertype="修改" posleft postop poswidth="410" posheight="260" isfile="是" OtherSave="否" idtype="1" billtaborder="<root><taborder>radioSqlType</taborder><taborder>txtName</taborder><taborder>txtChnName</taborder><taborder>txtTbName</taborder><taborder>txtFieldType</taborder><taborder>txtSql</taborder><taborder>alterSql</taborder><taborder>txtAlert</taborder><taborder>cmdCloseWin</taborder></root>" controlno="SKButton:0;SKDBedit:0;checkbox:2;label:14;radio:1;listbox:0;textarea:4;combobox:0;password:0;upload:0;SKDBtext:0;chart:0;dbimg:0;img:0;SKBILLgrid:0;shape:0;tab:0;div:2;DsMain_field:0;a:0;button:1;text:11;hr:0;checkboxlist:0;radiolist:0;dropdownlist:2;grid:0;dataset:0;spin:0;excel:0;tree:0;ebshow:0;ebiao:0;layout:0;page:0;eblayout:0;test:undefined" contxml="<root><label><id>labName</id><id>labChnName</id><id>lblTitle</id><id>label10</id><id>labTbName</id></label><radio><id>radioSqlType</id></radio><textarea><id>alterSql</id><id>txtAlert</id></textarea><div><id>divSql</id></div><button><id>cmdCloseWin</id></button><text><id>txtName</id><id>txtChnName</id><id>txtTbName</id><id>txtFieldType</id><id>txtSql</id></text></root>" userType alertType="1" isCheckPermit="否" jslib="fcopendj.js&#13;&#10;fcsavedj.js&#13;&#10;fcselfuse.js&#13;&#10;fcbasecont.js&#13;&#10;fcother.js&#13;&#10;selectdate.js&#13;&#10;~userfunc.js"><LABEL style="POSITION: absolute; WIDTH: 65px; HEIGHT: 16px; TOP: 88px; LEFT: 17px" id=labName onmovestart=moveStart() controltype="label" NotBg="否" inputTag="否">字段名称</LABEL><INPUT style="POSITION: absolute; WIDTH: 256px; DISPLAY: block; FONT-FAMILY: ; HEIGHT: 20px; FONT-SIZE: 12px; TOP: 82px; LEFT: 107px" id=txtName disabled onmovestart=moveStart() size=46 controltype="text" onblur="bill_onexit(&quot;$valid('不能为空','字段名称不能为空!');&quot;)"><LABEL style="POSITION: absolute; WIDTH: 76px; HEIGHT: 16px; TOP: 110px; LEFT: 17px" id=labChnName onmovestart=moveStart() controltype="label" NotBg="否" inputTag="否">字段中文名</LABEL><INPUT style="POSITION: absolute; WIDTH: 256px; DISPLAY: block; FONT-FAMILY: ; HEIGHT: 20px; FONT-SIZE: 12px; TOP: 104px; LEFT: 107px" id=txtChnName disabled onmovestart=moveStart() size=46 controltype="text"> <LABEL style="POSITION: absolute; WIDTH: 114px; FONT-FAMILY: 楷体_GB2312; HEIGHT: 22px; COLOR: #000080; FONT-SIZE: 14pt; TOP: 9px; FONT-WEIGHT: bold; TEXT-DECORATION: underline; LEFT: 14px" id=lblTitle onmovestart=moveStart() controltype="label" NotBg="否">增加字段</LABEL> 
<FIELDSET style="POSITION: absolute; WIDTH: 258px; HEIGHT: 56px; TOP: 123px; LEFT: 106px" id=radioSqlType onmovestart=moveStart() contentEditable=false controltype="radio" NotBg="否" value="2" tempvalue="1&#13;&#10;2" temptext="修改真正库结构及实体表的信息&#13;&#10;只修改实体表的信息 " legend aspect="纵向" onclick='bill_onclick("uf_alterSql()")'><LEGEND></LEGEND><INPUT id=RGradioSqlType1 onclick=radioSqlType.value=RGradioSqlType[0].value; value=1 type=radio name=RGradioSqlType text="修改真正库结构及实体表的信息"><SPAN>修改真正库结构及实体表的信息</SPAN>&nbsp;<BR><INPUT id=RGradioSqlType2 onclick=radioSqlType.value=RGradioSqlType[1].value; value=2 CHECKED type=radio name=RGradioSqlType text="只修改实体表的信息 "><SPAN>只修改实体表的信息 </SPAN>&nbsp;</FIELDSET><LABEL style="POSITION: absolute; WIDTH: 53px; HEIGHT: 16px; TOP: 45px; LEFT: 18px" id=label10 onmovestart=moveStart() controltype="label" NotBg="否" inputTag="否">表名</LABEL><INPUT style="POSITION: absolute; WIDTH: 256px; HEIGHT: 20px; TOP: 38px; LEFT: 107px" id=txtTbName disabled onmovestart=moveStart() size=46 controltype="text"><LABEL style="POSITION: absolute; WIDTH: 95px; HEIGHT: 17px; TOP: 63px; LEFT: 18px" id=labTbName onmovestart=moveStart() controltype="label" NotBg="否" inputTag="否">字段类型</LABEL><INPUT style="POSITION: absolute; WIDTH: 256px; HEIGHT: 20px; TOP: 60px; LEFT: 107px" id=txtFieldType disabled onmovestart=moveStart() size=46 controltype="text"> 
<DIV style="BORDER-BOTTOM: 0px; POSITION: absolute; BORDER-LEFT: 0px; WIDTH: 374px; HEIGHT: 265px; BORDER-TOP: 0px; TOP: 192px; BORDER-RIGHT: 0px; LEFT: 103px" id=divSql class=control-border-color onmovestart=moveStart() controltype="div"><INPUT style="BORDER-BOTTOM: 0px; POSITION: static; BORDER-LEFT: 0px; WIDTH: 235px; DISPLAY: none; HEIGHT: 20px; BORDER-TOP: 0px; TOP: 270px; BORDER-RIGHT: 0px; LEFT: 31px" id=txtSql onmovestart=moveStart() value=生成字段的sql脚本 size=42 controltype="text"><TEXTAREA style="POSITION: static; WIDTH: 367px; HEIGHT: 153px; TOP: 21px; LEFT: 2px" id=alterSql onmovestart=moveStart() cols=72 controltype="textarea" value="textarea3" induce="否"></TEXTAREA><TEXTAREA style="POSITION: static; WIDTH: 368px; DISPLAY: none; HEIGHT: 62px; TOP: 4px; LEFT: 6px" id=txtAlert onmovestart=moveStart() rows=1 cols=72 controltype="textarea" value="textarea2" induce="否"></TEXTAREA><BUTTON style="POSITION: static; WIDTH: 76px; DISPLAY: none; HEIGHT: 25px; TOP: 66px; LEFT: 295px" id=cmdCloseWin onmovestart=moveStart() controltype="button" onclick='bill_onclick("uf_close()")'></BUTTON></DIV></DIV><script></script></body></html>