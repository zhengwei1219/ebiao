<script>&#13;&#10;&#13;&#10;function uf_role(roleid,rolename){&#13;&#10;	dataset1.Field('roleid').Value =roleid;	&#13;&#10;	dataset1.Field("rolename").Value = rolename;	&#13;&#10;}&#13;&#10;function uf_change(){&#13;&#10;	for(var i=0;i<lisProfile.length;i++){&#13;&#10;		if(lisProfile.options(i).selected == true){	&#13;&#10;				dataset1.Field("profilename").Value = lisProfile.options(i).text;&#13;&#10;				&#13;&#10;		}&#13;&#10;	}&#13;&#10;	&#13;&#10;}&#13;&#10;&#13;&#10;</script> 
<DIV oncontrolselect=controlselect() id=SKbillsheet contentEditable=true toolbar="自定义工具栏" dj_sn="userPowerCard" caption="新注册用户维护" type="ZK" isfile="是" center="居中" posleft postop poswidth="600" posheight="480" window="有模式窗口" BLONopen="TreeRootNodeHide($id('tree3'), 'none')" BLONopenBefore BLONclose billtaborder="<root><taborder>lisProfile</taborder><taborder>text1</taborder></root>" controlno="SKButton:0;SKDBedit:0;checkbox:0;label:4;radio:0;listbox:2;textarea:0;combobox:1;password:0;upload:0;SKDBtext:0;chart:0;dbimg:0;img:0;SKBILLgrid:0;shape:0;tab:0;div:0;DsMain_field:0;a:0;button:1;text:3;hr:0;checkboxlist:0;radiolist:0;dropdownlist:0;grid:0;dataset:1;spin:0;excel:0;tree:3;ebshow:0;ebiao:0;layout:0;page:0" contxml="<root><label><id>label1</id><id>label2</id><id>label3</id></label><listbox><id>lisProfile</id></listbox><text><id>text1</id></text><dataset><id>dataset1</id></dataset><tree><id>tree3</id></tree></root>" alertType="1" isCheckPermit="否" userType userToolbar='<tr rowstate="add"><td>ok</td><td>提交数据成功后刷新上一窗口</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>close</td><td>关闭窗口</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' jslib="fcopendj.js&#13;&#10;fcsavedj.js&#13;&#10;fcselfuse.js&#13;&#10;fcbasecont.js&#13;&#10;fcother.js&#13;&#10;selectdate.js&#13;&#10;~userfunc.js" unselectable="on"><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 39px; HEIGHT: 47px; TOP: 92px; LEFT: 609px" id=dataset1 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_dataset.gif" controltype="dataset" datasourceName async="否" idtype="1" saveastable idparam="USE" savetable="FCQ_USER" isSubGrid="否" opensortno="1" pubpara="否" isaddemptyrec="否" submittype="2" submitno="1" issubds="否" AfterOpen BeforeOpen BeforePost AfterPost BeforeScroll AfterScroll formatxml="<root><tr rowstate=&quot;add&quot;><td>PROFILEID</td><td>简档名</td><td>字符</td><td>11</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>是</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>PROFILENAME</td><td>PROFILENAME</td><td>字符</td><td>50</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>ROLEID</td><td>ROLEID</td><td>字符</td><td>11</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>ROLENAME</td><td>角色名</td><td>字符</td><td>50</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>USERID</td><td>用户id</td><td>字符</td><td>11</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>是</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>USERNAME</td><td>用户名</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>sdeptid</td><td>部门id</td><td>字符</td><td>11</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>是</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>sdeptname</td><td>部门名称</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>120px</td><td></td><td></td><td>$valid('汉字、字母、数字或_');$valid('字段值不重复');$valid('值已存在');</td><td></td><td></td><td></td><td></td><td></td></tr></root>" opensql="select FCQ_USER.* ,ROLEID ,deptid ,PROFILEID from FCQ_USER  where userid=':{fcpubdata.obj.Field('userid').Value}:'" subdsfield masterds masterdsfield queryTableName="FCS_DEPT"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 50px; HEIGHT: 15px; TOP: 11px; LEFT: 12px" id=label1 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">用户名</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 55px; HEIGHT: 15px; TOP: 44px; LEFT: 247px" id=label2 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">角色名</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 47px; HEIGHT: 16px; TOP: 43px; LEFT: 12px" id=label3 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">简档名</LABEL><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 227px; HEIGHT: 20px; TOP: 6px; LEFT: 65px" id=text1 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() value=用户名 readOnly size=40 controltype="text" field="USERNAME" dataset="dataset1" china="用户名"><SELECT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 150px; HEIGHT: 370px; TOP: 39px; LEFT: 65px" id=lisProfile onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() onchange='bill_onclick("uf_change()")' size=8 controltype="listbox" temptext tempvalue check="2" sql="select profileid,profileName from fcq_profile where deleteMark <> 1 and profileId<> 'systemadmin' " datasourceName async="否" field="PROFILEID" dataset="dataset1" china="PROFILEID"></SELECT><IMG onresizeend=resizeEnd() style="BORDER-BOTTOM: 1px solid; POSITION: absolute; BORDER-LEFT: 1px solid; WIDTH: 275px; HEIGHT: 355px; BORDER-TOP: 1px solid; TOP: 44px; BORDER-RIGHT: 1px solid; LEFT: 303px" id=tree3 class=control-border-color onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_tree.gif" controltype="tree" datasourceName sql2="select roleid,parentid,rolename,roleid from FCQ_ROLE where deleteMark <> 1 order by sortNo" clicknode="uf_role(Global.selectedItem.code,Global.selectedItem.text);&#13;&#10;" roottext="角色" sourcetype="3" ischecked="否" isAll="是" opentb="_self"></DIV>