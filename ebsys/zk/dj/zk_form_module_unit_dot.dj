<script>var obj = null;&#13;&#10;var runparam = "";//记录选择表单布局模板后，获取表单布局模板中设置的运行参数&#13;&#10;function selRunParams(){ //选择表单布局模板后给运行参数赋值&#13;&#10;	runparam= $id('runParams').value;&#13;&#10;}&#13;&#10;&#13;&#10;function uf_open(){&#13;&#10;	if(obj == null){&#13;&#10;		oXmlFile = SetDomFile(location.protocol + "//" + location.host + fcpubdata.path + "/" + "zk/formtemp/formlist.xml");&#13;&#10;	}&#13;&#10;	if(oXmlFile.documentElement == null) return;&#13;&#10;	obj = oXmlFile.documentElement;&#13;&#10;	var len = oXmlFile.documentElement.childNodes.length;&#13;&#10;	var dropdwonXml = "";&#13;&#10;	for(var i=0;i<len;i++){&#13;&#10;		if(obj.childNodes[i].childNodes[4].text.substring(0,2) != $id('envtype').value) continue;&#13;&#10;		dropdwonXml += "<tr><td>"&#13;&#10;		dropdwonXml += obj.childNodes[i].childNodes[0].text + "</td> <td>";&#13;&#10;		dropdwonXml += obj.childNodes[i].childNodes[1].text + "</td> <td>";&#13;&#10;		dropdwonXml += obj.childNodes[i].childNodes[2].text + "</td> <td>";&#13;&#10;		dropdwonXml +=  RepXml(obj.childNodes[i].childNodes[3].text) + "</td> <td>";&#13;&#10;		dropdwonXml +=  RepXml(obj.childNodes[i].childNodes[5].text) + "</td><td>";		&#13;&#10;		dropdwonXml +=  obj.childNodes[i].childNodes[6].text + "</td> </tr>";&#13;&#10;	}&#13;&#10;	dropSn.xml = dropdwonXml;&#13;&#10;	var rowInfo =  dropdwonXml;&#13;&#10;	var dsXml = dataset1.xml;&#13;&#10;	dsXml = "<root>"+ rowInfo +dsXml.substring(dsXml.indexOf("<set><pages>"),dsXml.length);&#13;&#10;	dataset1.OpenXmlData(dsXml);&#13;&#10;	new Eapi.DbStru().listTables($id("dropTableName"));	&#13;&#10;	uf_onclick();&#13;&#10;	//uf_selectType();&#13;&#10;	uf_selChange();&#13;&#10;	if($id('envtype').value == "电脑") {$id('queryType').value = "电脑";}else{$id('queryType').value = "手机";}&#13;&#10;	queryType.sql1 = "select name, code  as queryType from fc_datadict where typename ='用途类别' and code   like '"+$id('envtype').value+"%'";&#13;&#10;	selRunParams();&#13;&#10;}&#13;&#10;&#13;&#10;function uf_selectType(){&#13;&#10;	$id('queryType').value = $id('envtype').value;&#13;&#10;}&#13;&#10;function uf_onclick(){//单击表单模版名在第二个表格中显示布局模版控件id&#13;&#10;	var layoutIdList = dataset1.Field('layoutId').Value;&#13;&#10;	var arr = layoutIdList.split(',');&#13;&#10;	var newStr = "";&#13;&#10;	for(var j = 0;j<arr.length;j++){&#13;&#10;		newStr += "<tr><td>"+ arr[j]+"</td><td></td><td></td><td></td><td></td><td>电脑</td><td>2</td><td>20</td><td>80</td><td>120</td><td>0</td><td>0</td></tr>";&#13;&#10;	}&#13;&#10;	var dsXml2 = dataset2.xml;&#13;&#10;	dsXml2 = "<root>"+ newStr + dsXml2.substring(dsXml2.indexOf("<set><pages>"),dsXml2.length);&#13;&#10;	dataset2.OpenXmlData(dsXml2);&#13;&#10;}&#13;&#10;&#13;&#10;function uf_save()&#13;&#10;{&#13;&#10;	var chnName=$id('txtUnitName').value;&#13;&#10;	var fromName=dataset1.Field('djsn').Value;&#13;&#10;	var maxCode=getMaxNo('UNI');&#13;&#10;	var sortNo=getMaxIntNo('SOR')&#13;&#10;	var nowTime=null;&#13;&#10;	var url="";&#13;&#10;	var sqlXml ="";&#13;&#10;	var arr = new Array();&#13;&#10;	if(IsSpace(chnName) == true) {&#13;&#10;		alert("功能点名称不能为空");	&#13;&#10;		return ;&#13;&#10;	}else {&#13;&#10;		var reg = /[^_|a-z|A-Z|0-9|\u4e00-\u9fa5]/;&#13;&#10;    	if(reg.test(chnName)) {&#13;&#10;    		alert("功能点名称只能输入数字,字母,下划线或汉字");&#13;&#10;    		return;&#13;&#10;    	}&#13;&#10; 		/*if (chnName.match(/[^\u4e00-\u9fa5]/g)) {&#13;&#10;		  alert("功能点名称只能输入中文");&#13;&#10;		  return;&#13;&#10;		}*/&#13;&#10;	}&#13;&#10;&#13;&#10;	var l=dataset2.oDom.documentElement.childNodes.length-1;&#13;&#10;	if(l < 1) return;&#13;&#10;	for(var i=0;i<l;i++)&#13;&#10;	{	&#13;&#10;		dataset2.Update();	&#13;&#10;		nowTime = "'"+GetTime()+"'";&#13;&#10;		if(IsSpace(dataset2.oDom.documentElement.childNodes[i].childNodes[1].text) == true && IsSpace(dataset2.oDom.documentElement.childNodes[i].childNodes[3].text) == true ) {&#13;&#10;			alert("布局模版控件"+dataset2.oDom.documentElement.childNodes[i].childNodes(0).text+",必须选择一个布局模版名或业务表名");	&#13;&#10;			return;&#13;&#10;		}&#13;&#10;		&#13;&#10;		if(IsSpace(dataset2.oDom.documentElement.childNodes[i].childNodes[1].text) == false){&#13;&#10;			url=url + "&"+dataset2.oDom.documentElement.childNodes[i].childNodes[0].text+"="+dataset2.oDom.documentElement.childNodes[i].childNodes[1].text ;&#13;&#10;		}else{//if(IsSpace(dataset2.oDom.documentElement.childNodes[i].childNodes(3).text) == false){&#13;&#10;			if(IsSpace(dataset2.oDom.documentElement.childNodes[i].childNodes[10].text) == true){&#13;&#10;				dataset2.oDom.documentElement.childNodes[i].childNodes[10].text = "0";		&#13;&#10;			}&#13;&#10;			if(IsSpace(dataset2.oDom.documentElement.childNodes[i].childNodes[5].text) == true || IsSpace(dataset2.oDom.documentElement.childNodes[i].childNodes[6].text) == true || IsSpace(dataset2.oDom.documentElement.childNodes[i].childNodes[7].text) == true || IsSpace(dataset2.oDom.documentElement.childNodes[i].childNodes[8].text) == true || IsSpace(dataset2.oDom.documentElement.childNodes[i].childNodes[9].text) == true || IsSpace(dataset2.oDom.documentElement.childNodes[i].childNodes[10].text) == true)&#13;&#10;			{&#13;&#10;				alert("选择业务表名后，要输入查询信息类型分栏数等信息");&#13;&#10;				return ;&#13;&#10;			}&#13;&#10;			url = url + "&"+dataset2.oDom.documentElement.childNodes[i].childNodes[0].text+"_table="+dataset2.oDom.documentElement.childNodes[i].childNodes[3].text;&#13;&#10;			//url = url + "&queryType=" + dataset2.oDom.documentElement.childNodes[i].childNodes[5].text&#13;&#10;			url = url + "&queryType=" + $id('queryType').value;&#13;&#10;			url = url + "&column=" + dataset2.oDom.documentElement.childNodes[i].childNodes[6].text;&#13;&#10;			url = url + "&rowHeight=" + dataset2.oDom.documentElement.childNodes[i].childNodes[7].text;&#13;&#10;			url = url + "&labelWidth=" + dataset2.oDom.documentElement.childNodes[i].childNodes[8].text;&#13;&#10;			url = url + "&fieldWidth=" + dataset2.oDom.documentElement.childNodes[i].childNodes[9].text;&#13;&#10;			url = url + "&isNullRow=" + dataset2.oDom.documentElement.childNodes[i].childNodes[10].text;&#13;&#10;		}&#13;&#10;		&#13;&#10;	}&#13;&#10;	url += "&djtype=MB&ispermit="+$id('ispermit').value;&#13;&#10;	if(isToHtm.value == '1'){&#13;&#10;		&#13;&#10;		arr[0] =  "../../fceform/common/djframe.htm?djsn="+dropSn.value+"&isgen=htm" + url;&#13;&#10;		//layoutToHtm(arr,function(){"ok"});	&#13;&#10;		//url = "&isgen=htm"+ url;&#13;&#10;	}else{&#13;&#10;		url = "&isgen=run" + url;&#13;&#10;	}&#13;&#10;	url = RepXml(url);&#13;&#10;	var paramUrl="";&#13;&#10;	/*if(runparam != $id("runParams").value){//检查运行参数是否修改&#13;&#10;		var arrParam1 = runparam.split("\r\n");&#13;&#10;		var arrParam2 = $id("runParams").value.split("\r\n");&#13;&#10;		if(!IsSpace($id("runParams").value)) {&#13;&#10;			if(arrParam2.length != arrParam1.length) {&#13;&#10;				 paramUrl="&"+RepUpdateSql(RepStr($id("runParams").value,"\r\n","&"));&#13;&#10;				 paramUrl= RepXml(paramUrl);&#13;&#10;			}else{&#13;&#10;				for(var i=0;i<arrParam1.length;i++){&#13;&#10;					if(Trim(arrParam1[i]) != Trim(arrParam2[i])){&#13;&#10;						paramUrl="&"+RepUpdateSql(RepStr($id("runParams").value,"\r\n","&"));&#13;&#10;						paramUrl = RepXml(paramUrl);&#13;&#10;						i=arrParam1.length;&#13;&#10;					}&#13;&#10;				}&#13;&#10;			}&#13;&#10;			&#13;&#10;		}&#13;&#10;	}*/&#13;&#10;	var arrParam1 = runparam.split("\r\n");//默认的参数&#13;&#10;    var arrParam2 = Trim($id("runParams").value).split("\r\n"); //控件上有可能修改的参数&#13;&#10;    var isEdit = false;//是否修改了参数&#13;&#10;    var arrCotrol = new Array();&#13;&#10;	//var arrCotrol = new Object();&#13;&#10;    for (var i = 0; i < arrParam2.length; i++) {//控件上的参数添加到同一个数组arrCotrol&#13;&#10;        var arrParamC = Trim(arrParam2[i]).split("=");&#13;&#10;        if (arrParamC.length != 2) continue;//如果不等于2，参数不合法如没有等号或多个等号&#13;&#10;		var obj = new Object();&#13;&#10;		obj.paramName = Trim(arrParamC[0]);&#13;&#10;		obj.paramValue = Trim(arrParamC[1]);&#13;&#10;        arrCotrol[arrCotrol.length] = obj;&#13;&#10;    }&#13;&#10;    for (var j = 0; j < arrParam1.length; j++) {&#13;&#10;        var arrP = Trim(arrParam1[j]).split("=");&#13;&#10;		if (arrP.length != 2)  continue;//如果不等于2，参数不合法如没有等号或多个等号&#13;&#10;		var paramName = Trim(arrP[0]);&#13;&#10;		var paramValue = Trim(arrP[1]);&#13;&#10;		for(var l=0;l<arrCotrol.length;l++){&#13;&#10;			if (arrCotrol[l].paramName == paramName) {&#13;&#10;				if (arrCotrol[l].paramValue != paramValue) {&#13;&#10;					isEdit = true;&#13;&#10;				}&#13;&#10;				paramUrl +="&" + arrCotrol[l].paramName + "=" + escape(arrCotrol[l].paramValue);&#13;&#10;			}&#13;&#10;		}&#13;&#10;    }&#13;&#10;   &#13;&#10;	if (isEdit == false) {&#13;&#10;		paramUrl = "";//不保存默认的参数，没修改url参数就是空&#13;&#10;	}else{&#13;&#10;		paramUrl = RepXml(paramUrl);&#13;&#10;	}&#13;&#10;	sqlXml = "<insert tableName='FCQ_UNIT'> <names>id,name,url,fromName,fromtype,sortNo,deleteMark,genTime,envType,paramUrl</names> <values>'"+maxCode+"','"+chnName+"','"+url+"','"+fromName+"',6 ,"+sortNo+",0 ,"+nowTime+",'"+$id('envtype').value+"','"+paramUrl+"'</values> </insert>";&#13;&#10;	doSaveData(sqlXml,function (){&#13;&#10;		if(isToHtm.value == '1'){&#13;&#10;			new Eapi.Layout().layoutToHtm(arr,function (){&#13;&#10;				alert("ok");&#13;&#10;				$id('txtUnitName').value ='';&#13;&#10;				uf_onclick();&#13;&#10;			});&#13;&#10;			$id('txtUnitName').value ='';&#13;&#10;		} else { &#13;&#10;			alert("保存成功");&#13;&#10;			uf_onclick();&#13;&#10;		}&#13;&#10;	});&#13;&#10;	&#13;&#10;}&#13;&#10;&#13;&#10;function uf_checkChn(){&#13;&#10;	var reg = /[^_|a-z|A-Z|0-9|\u4e00-\u9fa5]/;&#13;&#10;    if(reg.test($id('txtUnitName').value)) alert("只能是数字字母下划线和汉字");&#13;&#10;}&#13;&#10; &#13;&#10;function uf_selChange()&#13;&#10;{&#13;&#10;	var sWhere ="";&#13;&#10;	if($id('viewType').value != "全部") sWhere = " and viewType='"+ $id('viewType').value+"' ";&#13;&#10;	dropLayoutModle.sql1 = "select name as layoutName,chnname  as layoutName1 from fc_layout  where fc_layout.name like ':v_get%' and fc_layout.queryType like ':{$id('envtype').value}:%' and deleteMark =0 "+ sWhere +" ORDER BY fc_layout.layoutid desc";&#13;&#10;}&#13;&#10;&#13;&#10;function uf_getUnit(){&#13;&#10;	if(IsSpace($id('unit').value) == false && $id('unit').value.substring(0,3) == "UNI"){&#13;&#10;		var bak = $id('unit').value;&#13;&#10;		$id('unit').value ="";&#13;&#10;		var ret = fcUserFunc.selectUnit('unit','','');&#13;&#10;		if(ret == "undefined") $id('unit').value = bak;&#13;&#10;	}else{&#13;&#10;		fcUserFunc.selectUnit('unit','','');	&#13;&#10;	}&#13;&#10;}&#13;&#10;&#13;&#10;function uf_geturlPara(){&#13;&#10;	var urlPara = $id('runParams').value;&#13;&#10;	var newUrlPara="";&#13;&#10;	if(IsSpace(urlPara) == false){&#13;&#10;		var arr = urlPara.split("\r");&#13;&#10;		for(var i=0;i<arr.length;i++){&#13;&#10;			if(IsSpace(arr[i]) == false){&#13;&#10;				newUrlPara += "&"+arr[i];&#13;&#10;			}&#13;&#10;		}	   &#13;&#10;	}&#13;&#10;	return newUrlPara;	&#13;&#10;}&#13;&#10;</script> 
<DIV oncontrolselect=controlselect() id=SKbillsheet contentEditable=true toolbar="自定义工具栏" userToolbar='<tr rowstate="add"><td>saveAfterAdd</td><td>保存后新增</td><td>保存后新增</td><td>uf_save()</td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>closewin</td><td>关闭窗口</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>' isCheckPermit="否" alertType="1" userType contxml="<root><checkbox><id>nullRow</id><id>isToHtm</id><id>ispermit</id></checkbox><label><id>label1</id><id>label2</id><id>label5</id><id>label6</id><id>label9</id><id>label11</id><id>label12</id><id>label10</id><id>label3</id><id>label15</id><id>label23</id><id>label14</id><id>label16</id><id>label17</id><id>label19</id><id>label20</id><id>label18</id><id>label22</id></label><textarea><id>runParams</id><id>useHelp</id></textarea><combobox><id>envtype</id><id>viewType</id></combobox><div><id>div1</id></div><text><id>txtUnitName</id><id>text16</id><id>queryType1</id><id>text15</id><id>name</id></text><dropdownlist><id>dropTableName</id><id>queryType</id><id>dropLayoutModle</id><id>dropSn</id><id>unit</id></dropdownlist><grid><id>grid2</id></grid><dataset><id>dataset1</id><id>dataset2</id><id>dataset4</id></dataset><spin><id>labelWidth</id><id>fieldWidth</id><id>colNum</id><id>rowHeight</id></spin></root>" controlno="SKButton:0;SKDBedit:0;checkbox:2;label:23;radio:0;listbox:0;textarea:0;combobox:5;password:0;upload:0;SKDBtext:0;chart:0;dbimg:0;img:0;SKBILLgrid:0;shape:0;tab:0;div:1;DsMain_field:0;a:0;button:13;text:21;hr:0;checkboxlist:0;radiolist:0;dropdownlist:9;grid:2;dataset:4;spin:0;excel:0;tree:0;ebshow:0;ebiao:0;layout:0;page:0;eblayout:0;test:undefined" billtaborder="<root><taborder>grid2</taborder><taborder>txtUnitName</taborder><taborder>nullRow</taborder><taborder>labelWidth</taborder><taborder>fieldWidth</taborder><taborder>colNum</taborder><taborder>rowHeight</taborder><taborder>dropLayoutModle</taborder><taborder>text15</taborder><taborder>isToHtm</taborder><taborder>text16</taborder><taborder>dropTableName</taborder><taborder>name</taborder><taborder>dropSn</taborder><taborder>envtype</taborder><taborder>queryType1</taborder><taborder>runParams</taborder><taborder>useHelp</taborder><taborder>ispermit</taborder><taborder>viewType</taborder><taborder>queryType</taborder><taborder>unit</taborder></root>" isfile="是" posheight poswidth postop posleft window="当前窗口" caption="表单模版生成功能点" type="ZK" dj_sn="zk_form_module_unit_dot" BLONopen="uf_open()" center="  " BLONclose BLONopenBefore useHelp allBrowser="否" jslib="fcopendj.js&#13;&#10;fcsavedj.js&#13;&#10;fcselfuse.js&#13;&#10;fcbasecont.js&#13;&#10;fcother.js&#13;&#10;fczk.js&#13;&#10;selectdate.js&#13;&#10;~userfunc.js" unselectable="on"><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 351px; HEIGHT: 112px; TOP: 0px; LEFT: 388px" id=grid2 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_webgrid.gif" visible="是" dataset="dataset2" canselect="是" autoheight="否" autowidth="否" autoappend="否" readonly="否" SetRowHeight="是" hideHscroll="是" hideVscroll="是" blRowNo="否" bodyrowheight="-1" bodyrows="-1" controltype="grid" crosstabsql coltitle rowtitle crosstabformat crosstabsumtype="0" crosstabdatatype="0" crosstabtitle usertitlehtml titlerows titlerowheight usertitle iscrosstab="否" rcount="否" rsum="否" rmin="否" rmax="否" ravg="否" ccount="否" csum="否" cmin="否" cmax="否" cavg="否"><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 39px; HEIGHT: 47px; TOP: 14px; LEFT: 695px" id=dataset1 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_dataset.gif" controltype="dataset" issubds="否" submitno="1" submittype="1" isaddemptyrec="否" pubpara="否" opensortno="1" isSubGrid="否" async="否" idtype="1" datasourceName AfterOpen BeforeOpen BeforePost AfterPost BeforeScroll AfterScroll idparam opensql subdsfield masterds masterdsfield formatxml='<root><tr rowstate="add"><td>djsn</td><td>表单sn</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>170</td><td></td><td></td><td></td><td></td><td>uf_onclick()</td><td></td><td></td><td></td></tr><tr rowstate="add" multisel="是"><td>name</td><td>表单名称</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>240</td><td></td><td></td><td></td><td></td><td>uf_onclick()</td><td></td><td></td><td></td></tr><tr rowstate="add"><td>layoutId</td><td>布局控件</td><td>字符</td><td>30</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>useHelp</td><td>说明帮助</td><td>字符</td><td>1000</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>runparams</td><td>新建字段</td><td>字符</td><td>300</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>viewType</td><td>视图类型</td><td>字符</td><td>20</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></root>' savetable saveastable><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 39px; HEIGHT: 47px; TOP: 66px; LEFT: 697px" id=dataset2 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_dataset.gif" controltype="dataset" issubds="否" submitno="1" submittype="1" isaddemptyrec="否" pubpara="否" opensortno="1" isSubGrid="否" async="否" idtype="1" datasourceName AfterOpen BeforeOpen BeforePost AfterPost BeforeScroll AfterScroll idparam opensql subdsfield masterds masterdsfield formatxml='<root><tr rowstate="add"><td>contId</td><td>布局模版控件</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>338</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>layoutName</td><td>布局模版名</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>layoutName1</td><td>布局中文名</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>tbName</td><td>表名</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>是</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>chnname</td><td>表中文名</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>queryType</td><td>查询信息类型</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>colNum</td><td>列数</td><td>字符</td><td>10</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>rowHeight</td><td>行高</td><td>字符</td><td>10</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>labelWidth</td><td>标签列宽度</td><td>字符</td><td>10</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>editWidth</td><td>输入列宽度</td><td>字符</td><td>10</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>isNullRow</td><td>加空行</td><td>字符</td><td>10</td><td>0</td><td>数据项</td><td>0</td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>isToHtm</td><td>是否生成直接运行的htm</td><td>字符</td><td>1</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></root>' savetable saveastable><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 254px; HEIGHT: 20px; TOP: 188px; LEFT: 486px" id=txtUnitName onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() size=44 controltype="text"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 74px; HEIGHT: 17px; TOP: 192px; LEFT: 392px" id=label1 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">功能点名称</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 76px; HEIGHT: 18px; TOP: 143px; LEFT: 392px" id=label2 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">布局模版名</LABEL> 
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="BORDER-BOTTOM: 1px solid; POSITION: absolute; BORDER-LEFT: 1px solid; WIDTH: 355px; HEIGHT: 189px; BORDER-TOP: 1px solid; TOP: 212px; BORDER-RIGHT: 1px solid; LEFT: 385px" id=div1 onresize=resize() onmove=move() class=control-border-color onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="div"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 79px; HEIGHT: 14px; TOP: 101px; LEFT: 9px" id=label5 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">内容行行高</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 68px; HEIGHT: 17px; TOP: 125px; LEFT: 9px" id=label6 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">标签列宽度</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 65px; HEIGHT: 15px; TOP: 79px; LEFT: 9px" id=label9 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">分栏数</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 72px; HEIGHT: 21px; TOP: 147px; LEFT: 9px" id=label11 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">编辑列宽度</LABEL> 
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 194px; HEIGHT: 20px; TOP: 164px; LEFT: 5px" id=nullRow onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() noWrap dataset="dataset2" controltype="checkbox" field="isNullRow" china="加空行" value truevalue="1" falsevalue="0"><INPUT oncontrolselect=controlselectcancel() type=checkbox><SPAN>是否在内容行之间插入一个空行</SPAN></DIV><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 70px; HEIGHT: 22px; TOP: 119px; LEFT: 100px" id=labelWidth onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_numedit.gif" dataset="dataset2" controltype="spin" field="labelWidth" china="标签列宽度" value="80" NextNum="1" Max="500" Min="0" enabled="否"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 35px; HEIGHT: 15px; TOP: 124px; LEFT: 178px" id=label12 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">像素</LABEL><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 70px; HEIGHT: 22px; TOP: 142px; LEFT: 100px" id=fieldWidth onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_numedit.gif" dataset="dataset2" controltype="spin" field="editWidth" china="输入列宽度" value="180" NextNum="1" Max="500" Min="0" enabled="否"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 35px; HEIGHT: 15px; TOP: 145px; LEFT: 178px" id=label10 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">像素</LABEL><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 70px; HEIGHT: 22px; TOP: 73px; LEFT: 100px" id=colNum onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_numedit.gif" dataset="dataset2" controltype="spin" field="colNum" china="列数" value="2" NextNum="1" Max="10" Min="1" enabled="否"><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 70px; HEIGHT: 22px; TOP: 96px; LEFT: 100px" id=rowHeight onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_numedit.gif" dataset="dataset2" controltype="spin" field="rowHeight" china="行高" value="20" NextNum="1" Max="300" Min="0" enabled="否"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 65px; HEIGHT: 15px; TOP: 30px; LEFT: 9px" id=label3 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">表名</LABEL><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 251px; HEIGHT: 20px; TOP: 27px; LEFT: 100px; ButtonWidth: 10" id=dropTableName onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_fccode.gif" format="英文表名| 中文表名" visible="是" dataset="dataset2" controltype="dropdownlist" field="tbname" china="表名" FieldNameList isTreeNewSql="0" isShowTree="0" multiselect="否" addrow="否" blnempty="否" blninput="是" xml datasourceName check="2" temptext tempvalue sql><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 53px; HEIGHT: 19px; TOP: 51px; LEFT: 9px" id=label15 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">表中文名</LABEL><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 251px; HEIGHT: 20px; TOP: 49px; LEFT: 100px" id=text16 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() value=表中文名 readOnly dataset="dataset2" controltype="text" field="chnname" china="表中文名"><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 110px; DISPLAY: none; HEIGHT: 20px; TOP: 70px; LEFT: 184px" id=queryType1 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() value=查询信息类型 dataset="dataset2" controltype="text" field="queryType" china="查询信息类型"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 142px; HEIGHT: 16px; TOP: 8px; LEFT: 9px" id=label23 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">查询信息类型</LABEL><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 252px; HEIGHT: 20px; TOP: 4px; LEFT: 100px; ButtonWidth: 10" id=queryType onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_fccode.gif" format="| 查询信息类型 " visible="是" dataset="dataset2" controltype="dropdownlist" field="queryType" china="查询信息类型" FieldNameList isTreeNewSql="0" isShowTree="0" multiselect="否" addrow="否" blnempty="否" blninput="是" xml datasourceName check="1" temptext tempvalue sql></DIV><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 254px; HEIGHT: 20px; TOP: 140px; LEFT: 486px; ButtonWidth: 10" id=dropLayoutModle onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_fccode.gif" format="   英文名  |  中文名  " visible="是" dataset="dataset2" controltype="dropdownlist" field="layoutName" china="布局模版名" FieldNameList isTreeNewSql="0" isShowTree="0" multiselect="否" addrow="否" blnempty="否" blninput="是" xml datasourceName check="2" temptext tempvalue sql AutoSizeXml="<record id ='dropLayoutModle'><Halign>不动</Halign><HWidth></HWidth><HUnit>px</HUnit><WSetType>百分比设置</WSetType><Width></Width><WExt></WExt><WSetUnit>px</WSetUnit><MinW></MinW><Palign>不动</Palign><PWidth></PWidth><PUnit>px</PUnit><HSetType>百分比设置</HSetType><Height></Height><HExt></HExt><HSetUnit>px</HSetUnit><MinH></MinH></record>"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 98px; HEIGHT: 17px; TOP: 166px; LEFT: 392px" id=label14 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">布局模版中文名</LABEL><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 254px; HEIGHT: 20px; TOP: 163px; LEFT: 486px" id=text15 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() value=布局中文名 readOnly size=21 dataset="dataset2" controltype="text" field="layoutName1" china="布局中文名"> 
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 303px; HEIGHT: 20px; TOP: 399px; LEFT: 391px" id=isToHtm onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() noWrap dataset="dataset2" controltype="checkbox" field="isToHtm" china="是否生成直接运行的htm" value truevalue="1" falsevalue="0"><INPUT oncontrolselect=controlselectcancel() type=checkbox><SPAN>是否生成直接运行的htm文件</SPAN></DIV><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 76px; HEIGHT: 16px; TOP: 35px; LEFT: 10px" id=label16 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">表单模版sn</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 86px; HEIGHT: 19px; TOP: 60px; LEFT: 10px" id=label17 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">表单模版名称</LABEL><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 278px; HEIGHT: 20px; TOP: 31px; LEFT: 92px; ButtonWidth: 10" id=dropSn onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_fccode.gif" onchange='bill_onclick("uf_onclick()")' format="   表单sn  |   表单名称  ||||视图类型|" visible="是" dataset="dataset1" controltype="dropdownlist" field="djsn" china="表单sn" FieldNameList="djsn,name,layoutId,useHelp,runparams,viewType" isTreeNewSql="0" isShowTree="0" multiselect="否" addrow="否" blnempty="否" blninput="否" xml datasourceName onselchange='bill_onclick("selRunParams();uf_selChange()")' check="1" temptext tempvalue sql><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 277px; HEIGHT: 20px; TOP: 56px; LEFT: 92px" id=name onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() value=表单名称 readOnly size=49 dataset="dataset1" controltype="text" field="name" china="表单名称"><SELECT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 278px; HEIGHT: 25px; TOP: 5px; LEFT: 92px" id=envtype onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() onchange='bill_onclick("uf_open()")' controltype="combobox" async="否" datasourceName check="1" temptext="电脑&#13;&#10;手机" tempvalue="电脑&#13;&#10;手机" sql><OPTION selected value=电脑>电脑</OPTION><OPTION value=手机>手机</OPTION></SELECT><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 65px; HEIGHT: 15px; TOP: 9px; LEFT: 11px" id=label19 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">使用类型</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 102px; HEIGHT: 16px; TOP: 101px; LEFT: 6px" id=label20 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">运行参数：</LABEL><TEXTAREA onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 362px; HEIGHT: 140px; TOP: 120px; LEFT: 8px" id=runParams onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() cols=72 dataset="dataset1" controltype="textarea" field="runparams" china="运行参数" value="textarea1" induce="否">运行参数</TEXTAREA><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 87px; HEIGHT: 18px; TOP: 268px; LEFT: 7px" id=label18 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">使用说明：</LABEL><TEXTAREA onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 363px; HEIGHT: 132px; TOP: 284px; LEFT: 8px" id=useHelp onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() rows=1 cols=74 readOnly dataset="dataset1" controltype="textarea" field="useHelp" china="说明帮助" value="textarea1" induce="否">说明帮助</TEXTAREA> 
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 80px; HEIGHT: 20px; TOP: 78px; LEFT: 87px" id=ispermit onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() noWrap controltype="checkbox" value="2" truevalue="1" falsevalue="2"><INPUT oncontrolselect=controlselectcancel() type=checkbox><SPAN>是否检查权限</SPAN></DIV><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 65px; HEIGHT: 15px; TOP: 118px; LEFT: 392px" id=label22 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">视图类型</LABEL><SELECT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 254px; HEIGHT: 25px; TOP: 115px; LEFT: 486px" id=viewType onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() onchange='bill_onclick("uf_selChange()")' dataset="dataset1" controltype="combobox" async="否" field="viewType" china="视图类型" datasourceName check="1" temptext="全部&#13;&#10;列表式&#13;&#10;编辑式&#13;&#10;查询式&#13;&#10;交叉表&#13;&#10;主从表&#13;&#10;其它" tempvalue="全部&#13;&#10;列表式&#13;&#10;编辑式&#13;&#10;查询式&#13;&#10;交叉表&#13;&#10;主从表&#13;&#10; " sql backheight="25" backwidth="120"><OPTION selected value=全部>全部</OPTION><OPTION value=列表式>列表式</OPTION><OPTION value=编辑式>编辑式</OPTION><OPTION value=查询式>查询式</OPTION><OPTION value=交叉表>交叉表</OPTION><OPTION value=主从表>主从表</OPTION><OPTION value=" ">其它</OPTION></SELECT><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 281px; HEIGHT: 20px; TOP: 99px; LEFT: 88px; ButtonWidth: 10" id=unit onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_fccode.gif" format visible="是" dataset="dataset4" controltype="dropdownlist" field="ID" china="id字段" FieldNameList isTreeNewSql="0" isShowTree="0" multiselect="否" addrow="否" blnempty="否" blninput="是" xml datasourceName check="1" temptext tempvalue sql onclickopen='bill_onclick("uf_getUnit()")'><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 39px; HEIGHT: 47px; TOP: 46px; LEFT: 811px" id=dataset4 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_dataset.gif" controltype="dataset" issubds="否" submitno="1" submittype="1" isaddemptyrec="否" pubpara="否" opensortno="1" isSubGrid="否" async="否" idtype="1" datasourceName AfterOpen BeforeOpen BeforePost AfterPost BeforeScroll AfterScroll idparam opensql subdsfield masterds masterdsfield formatxml="<root><tr rowstate=&quot;add&quot;><td>ID</td><td>id字段</td><td>字符</td><td>11</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>是</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate=&quot;add&quot;><td>name</td><td>名称</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td>$valid('汉字、字母、数字或_');$valid('字段值不重复');$valid('值已存在');</td><td></td><td></td><td></td><td></td><td></td></tr></root>" savetable saveastable queryTableName="FCQ_UNIT"></DIV>