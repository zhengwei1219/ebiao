<script>function uf_open(){&#13;&#10;	dataset1.Field('genTime').Value = GetTime();&#13;&#10;	if(dataset1.Field('fromType').Value == 6){ &#13;&#10;		$id('cheIsModule').style.display = "block";&#13;&#10;		$id('div1').style.display = "block";&#13;&#10;		if(IsSpace(dataset1.Field('winSize').Value) == false){&#13;&#10;			SetCheckBoxValue($id('cheIsModule'), 1);&#13;&#10;			var winSize = RepStr(dataset1.Field('winSize').Value,"px;dialogWidth:",",");&#13;&#10;			winSize = RepStr(winSize,"dialogHeight:","");&#13;&#10;			var arr = winSize.split(',');&#13;&#10;			$id('txtModalHeight').value = ToInt(arr[0]);&#13;&#10;			$id('txtModalWidth').value = ToInt(arr[1]);&#13;&#10;		}else{&#13;&#10;			$id('txtModalHeight').value = 300;&#13;&#10;			$id('txtModalWidth').value = 260;&#13;&#10;		}&#13;&#10;	} else{&#13;&#10;		$id('cheIsModule').style.display = "none";&#13;&#10;	}&#13;&#10;	uf_hideDiv();&#13;&#10;	//uf_initImg();&#13;&#10;	//uf_initCheckedImg();&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;function uf_check(){&#13;&#10;	var param = $id('paramUrl').value;&#13;&#10;	if(IsSpace(param) == false) {&#13;&#10;		var denghao = param.indexOf('=');&#13;&#10;		if(param.indexOf('&') != 0 ||  denghao < 2 || denghao == param.length-1){&#13;&#10;			alert("应输入&paramName=value形式的运行参数");&#13;&#10;			return false;&#13;&#10;		}&#13;&#10;	}&#13;&#10;	&#13;&#10;	if(IsSpace(Trim($id('txtModalWidth').value)) !=  IsSpace(Trim($id('txtModalHeight').value))){&#13;&#10;		alert("模态窗口的高度和宽度，必须是：都为空，或者都为整数");&#13;&#10;		return false;&#13;&#10;	}&#13;&#10;	&#13;&#10;	return true;&#13;&#10;	&#13;&#10;}&#13;&#10;&#13;&#10;function uf_save(){&#13;&#10;	var reg = /[^_|a-z|A-Z|0-9|\u4e00-\u9fa5]/;&#13;&#10;    if(reg.test($id('name').value)) {alert("只能是数字字母下划线和汉字");return;}&#13;&#10;	if(uf_check() == true){&#13;&#10;		if(Trim($id('txtModalWidth').value)  == "" || $id('cheIsModule').value == "0"){&#13;&#10;			dataset1.Field('winSize').Value = '';&#13;&#10;		}else{&#13;&#10;			dataset1.Field('winSize').Value = "dialogHeight:"+Trim($id('txtModalHeight').value)+"px;dialogWidth:"+Trim($id('txtModalWidth').value)+"px";&#13;&#10;		}&#13;&#10;		dataset1.Update() ;&#13;&#10;		$eform('提交数据成功后刷新上一窗口');	&#13;&#10;	}&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;function uf_checkInt(contId){&#13;&#10;	if(Trim($id(contId).value) != ""){//空值不检查&#13;&#10;		var ret = IsInt($id(contId).value);&#13;&#10;		if(ret == false){&#13;&#10;			alert('不是有效的整数');&#13;&#10;			if(contId == "txtModalWidth"){&#13;&#10;				$id(contId).value = 260;	&#13;&#10;			}else{&#13;&#10;				$id(contId).value = 300;&#13;&#10;			}&#13;&#10;		}&#13;&#10;	}&#13;&#10;}&#13;&#10;&#13;&#10;function uf_hideDiv(){&#13;&#10;	if($id('cheIsModule').value == 0){&#13;&#10;		div1.style.display = "none";&#13;&#10;	}else{&#13;&#10;		div1.style.display ="block";&#13;&#10;	}&#13;&#10;}&#13;&#10;&#13;&#10;function uf_djOpen(){&#13;&#10;	var ret = DjOpen('zk_select_img',dataset1) ;&#13;&#10;    if(IsSpace(ret) == false) dataset1.Field('imgPos').Value = ret ;&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10; </script> 
<DIV oncontrolselect=controlselect() id=SKbillsheet contentEditable=true toolbar="不带工具栏" BLONresizeBefore BLONresizeAfter allBrowser="否" useHelp isCheckPermit="否" alertType="1" userType BLONclose BLONopenBefore BLONopen="e_PropWinOnload();uf_open()" center="居中" runsave contxml="<root><checkbox><id>cheIsModule</id></checkbox><label><id>label3</id><id>label5</id><id>label7</id><id>label8</id><id>label9</id><id>label10</id><id>label11</id><id>label13</id><id>Label2</id></label><textarea><id>textarea1</id></textarea><combobox><id>combobox2</id></combobox><div><id>div1</id></div><button><id>cmdOk</id><id>cmdClose</id></button><text><id>name</id><id>paramUrl</id><id>txtModalWidth</id><id>txtModalHeight</id></text><dropdownlist><id>userType</id></dropdownlist><dataset><id>dataset1</id></dataset></root>" controlno="SKButton:0;SKDBedit:0;checkbox:6;label:13;radio:0;listbox:0;textarea:1;combobox:2;password:0;upload:0;SKDBtext:0;chart:0;dbimg:0;img:0;SKBILLgrid:0;shape:0;tab:0;div:4;DsMain_field:0;a:1;button:5;text:9;hr:0;checkboxlist:0;radiolist:0;dropdownlist:1;grid:0;dataset:1;spin:0;excel:0;tree:0;ebshow:0;ebiao:0;layout:0;page:0;eblayout:0;test:undefined" billtaborder="<root><taborder>cmdOk</taborder><taborder>cmdClose</taborder><taborder>name</taborder><taborder>paramUrl</taborder><taborder>cheIsModule</taborder><taborder>txtModalWidth</taborder><taborder>txtModalHeight</taborder><taborder>textarea1</taborder><taborder>combobox2</taborder><taborder>userType</taborder></root>" idtype="1" OtherSave="否" isfile="是" posheight="250px" poswidth="500px" postop posleft entertype="修改" window="有模式窗口" keyfield="id" codeheader="UNI" caption="编辑功能点" type="ZK" dj_sn="unitCard" jslib="fcopendj.js&#13;&#10;fcsavedj.js&#13;&#10;fcselfuse.js&#13;&#10;fcbasecont.js&#13;&#10;fcother.js&#13;&#10;selectdate.js&#13;&#10;~userfunc.js" envType="电脑" unselectable="on" runParams><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 386px; HEIGHT: 20px; TOP: 38px; LEFT: 75px" id=name onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() size=63 controltype="text" dataset="dataset1" china="NAME" field="NAME"><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 386px; HEIGHT: 20px; TOP: 62px; LEFT: 75px" id=paramUrl onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() value=运行参数 size=44 controltype="text" dataset="dataset1" china="运行参数" field="paramUrl"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 65px; HEIGHT: 15px; TOP: 68px; LEFT: 9px" id=label3 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否" NotBg="否">运行参数</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 41px; HEIGHT: 15px; TOP: 43px; LEFT: 9px" id=label5 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否" NotBg="否">名称</LABEL><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 39px; HEIGHT: 47px; TOP: 51px; LEFT: 522px" id=dataset1 onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_dataset.gif" idtype="1" datasourceName controltype="dataset" async="否" fieldtrans="<root><field><name>chnfromtype</name><trans></trans><rtrans></rtrans><sql>select%20code%2Cname%20from%20fc_datadict%20where%20typename%3D%27%u529F%u80FD%u70B9%u7C7B%u578B%27</sql></field></root>" savetable="FCQ_UNIT" issubds="否" submitno="1" submittype="2" isaddemptyrec="否" pubpara="否" opensortno="1" isSubGrid="否" saveastable="FC_UNIT" idparam="UNI" AfterOpen BeforeOpen BeforePost AfterPost BeforeScroll AfterScroll masterdsfield masterds subdsfield opensql="select ID,NAME,paramUrl ,winSize ,fromType,title, imgPos ,envType,userType,sortNo,deleteMark  from FCQ_UNIT  where id=':{fcpubdata.obj.Field('id').Value}:'" formatxml='<root><tr rowstate="add"><td>ID</td><td>ID</td><td>字符</td><td>11</td><td></td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>是</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>NAME</td><td>NAME</td><td>字符</td><td>50</td><td></td><td>数据项</td><td></td><td></td><td>是</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>genTime</td><td>创建日期</td><td>日期</td><td>10</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>paramUrl</td><td>运行参数</td><td>字符</td><td>1000</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td>uf_check()</td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>winSize</td><td>窗口大小</td><td>字符</td><td>100</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>fromType</td><td>类型</td><td>字符</td><td>10</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>title</td><td>说明</td><td>字符</td><td>200</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>imgPos</td><td>图片坐标</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>envType</td><td>设备类型</td><td>字符</td><td>4</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>userType </td><td>用户分类</td><td>字符</td><td>50</td><td>0</td><td>数据项</td><td></td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>sortNo</td><td>新建字段</td><td>整数</td><td>4</td><td>0</td><td>变量默认值</td><td></td><td></td><td>否</td><td>否</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr rowstate="add"><td>deleteMark</td><td>新建字段</td><td>整数</td><td>4</td><td>0</td><td>数据项</td><td>0</td><td></td><td>否</td><td>是</td><td>否</td><td>否</td><td>是</td><td>否</td><td>否</td><td>否</td><td></td><td></td><td>left</td><td>80</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></root>' queryTableName="FCQ_UNIT" iscreatetable><BUTTON onresizeend=resizeEnd() oncontrolselect=controlselect() style="BORDER-BOTTOM: 0px; POSITION: absolute; BORDER-LEFT: 0px; WIDTH: 65px; HEIGHT: 25px; BORDER-TOP: 0px; TOP: 4px; BORDER-RIGHT: 0px; LEFT: 3px" id=cmdOk onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="button" fc_onclick='bill_onclick("uf_save()")' dropstyle="否"></BUTTON><BUTTON onresizeend=resizeEnd() oncontrolselect=controlselect() style="BORDER-BOTTOM: 0px; POSITION: absolute; BORDER-LEFT: 0px; WIDTH: 65px; HEIGHT: 25px; BORDER-TOP: 0px; TOP: 4px; BORDER-RIGHT: 0px; LEFT: 74px" id=cmdClose onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="button" fc_onclick='bill_onclick("CloseBill()")' dropstyle="否"></BUTTON> 
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="BORDER-BOTTOM: 1px solid; POSITION: absolute; BORDER-LEFT: 1px solid; WIDTH: 387px; DISPLAY: none; HEIGHT: 33px; BORDER-TOP: 1px solid; TOP: 172px; BORDER-RIGHT: 1px solid; LEFT: 74px" id=div1 onresize=resize() onmove=move() class=control-border-color onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="div"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 33px; HEIGHT: 15px; TOP: 8px; LEFT: 8px" id=label7 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">宽度</LABEL><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 54px; HEIGHT: 20px; TOP: 6px; LEFT: 37px" id=txtModalWidth onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() onchange="bill_onclick(&quot;uf_checkInt('txtModalWidth')&quot;)" value=260 size=9 controltype="text"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 35px; HEIGHT: 15px; TOP: 8px; LEFT: 93px" id=label8 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">px</LABEL><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 32px; HEIGHT: 15px; TOP: 8px; LEFT: 276px" id=label9 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">高度</LABEL><INPUT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 54px; HEIGHT: 20px; TOP: 6px; LEFT: 308px" id=txtModalHeight onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() onchange="bill_onclick(&quot;uf_checkInt('txtModalHeight')&quot;)" value=300 size=9 controltype="text"><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 21px; HEIGHT: 15px; TOP: 8px; LEFT: 365px" id=label10 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">px</LABEL> </DIV>
<DIV onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 80px; DISPLAY: none; HEIGHT: 20px; TOP: 152px; LEFT: 7px" id=cheIsModule onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() noWrap controltype="checkbox" value="0" falsevalue="0" truevalue="1" fc_onclick='bill_onclick("uf_hideDiv()")'><INPUT oncontrolselect=controlselectcancel() type=checkbox><SPAN>是否用模态窗口打开</SPAN></DIV><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 74px; HEIGHT: 30px; TOP: 91px; LEFT: 10px" id=label11 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">功能点说明</LABEL><TEXTAREA onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 387px; HEIGHT: 42px; TOP: 86px; LEFT: 75px" id=textarea1 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() rows=1 cols=76 controltype="textarea" value="textarea1" dataset="dataset1" china="说明" field="title" induce="否">说明</TEXTAREA>&nbsp; <SELECT onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 65px; HEIGHT: 25px; TOP: 132px; LEFT: 75px" id=combobox2 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() datasourceName sql controltype="combobox" temptext="电脑&#13;&#10;手机&#13;&#10;平板" tempvalue="电脑&#13;&#10;手机&#13;&#10;平板" check="1" async="否" dataset="dataset1" china="设备类型" field="envType"><OPTION selected value=电脑>电脑</OPTION><OPTION value=手机>手机</OPTION><OPTION value=平板>平板</OPTION></SELECT><LABEL onresizeend=resizeEnd() oncontrolselect=controlselect() style="POSITION: absolute; WIDTH: 65px; HEIGHT: 15px; TOP: 135px; LEFT: 12px" id=label13 onresize=resize() onmove=move() onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() controltype="label" inputTag="否">设备类型</LABEL><IMG onresizeend=resizeEnd() style="POSITION: absolute; WIDTH: 139px; HEIGHT: 20px; TOP: 132px; LEFT: 323px; ButtonWidth: 10" id=userType onmovestart=moveStart() onmoveend=moveEnd() onresizestart=resizeStart() src="../../fceform/images/ef_designer_fccode.gif" datasourceName xml sql="select distinct userType from fcq_unit where deletemark=0" controltype="dropdownlist" temptext tempvalue check="2" format visible="是" dataset="dataset1" china="用户分类" field="userType" FieldNameList isTreeNewSql="0" isShowTree="0" blninput="是" blnempty="否" multiselect="否" addrow="否"><SPAN style="POSITION: absolute; WIDTH: 76px; DISPLAY: block; HEIGHT: 17px; FONT-SIZE: 12px; TOP: 136px; LEFT: 250px" id=Label2 controltype="label" inputTag="否" align="Left">自定义分类：</SPAN></DIV>